void 0!==window.angular&&(window._wlAngularBackup=window.angular,delete window.angular,window._wlAngularBackupApps=jQuery("[ng-app]").removeAttr("ng-app")),function(l,nt,it){"use strict";function w(a,s){return s=s||Error,function(){var t,e,n=arguments[0],i="["+(a?a+":":"")+n+"] ",r=arguments[1],o=arguments;for(t=(t=i+r.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<o.length?Mt(o[e+2]):t}))+"\nhttp://errors.angularjs.org/1.3.11/"+(a?a+"/":"")+n,e=2;e<arguments.length;e++)t=t+(2==e?"?":"&")+"p"+(e-2)+"="+encodeURIComponent(Mt(arguments[e]));return new s(t)}}var o=/^\/(.+)\/([a-z]*)$/,a="validity",N=function(t){return ut(t)?t.toLowerCase():t},E=Object.prototype.hasOwnProperty,u=function(t){return ut(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(N=function(t){return ut(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},u=function(t){return ut(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var G,rt,$,h,i=[].slice,n=[].splice,t=[].push,s=Object.prototype.toString,c=w("ng"),b=l.angular||(l.angular={}),e=0;function I(t){if(null==t||S(t))return!1;var e=t.length;return!(t.nodeType!==kt||!e)||(ut(t)||lt(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function ot(t,e,n){var i,r;if(t)if(ct(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(lt(t)||I(t)){var o="object"!=typeof t;for(i=0,r=t.length;i<r;i++)(o||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==ot)t.forEach(e,n,t);else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);return t}function z(t){return Object.keys(t).sort()}function g(n){return function(t,e){n(e,t)}}function r(){return++e}function f(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function R(t){for(var e=t.$$hashKey,n=1,i=arguments.length;n<i;n++){var r=arguments[n];if(r)for(var o=Object.keys(r),a=0,s=o.length;a<s;a++){var u=o[a];t[u]=r[u]}}return f(t,e),t}function p(t){return parseInt(t,10)}function v(t,e){return R(Object.create(t),e)}function at(){}function m(t){return t}function y(t){return function(){return t}}function P(t){return void 0===t}function Y(t){return void 0!==t}function st(t){return null!==t&&"object"==typeof t}function ut(t){return"string"==typeof t}function x(t){return"number"==typeof t}function C(t){return"[object Date]"===s.call(t)}G=nt.documentMode,at.$inject=[],m.$inject=[];var lt=Array.isArray;function ct(t){return"function"==typeof t}function d(t){return"[object RegExp]"===s.call(t)}function S(t){return t&&t.window===t}function ft(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"boolean"==typeof t}function k(t){return t&&ct(t.then)}var dt=function(t){return ut(t)?t.trim():t},T=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function pt(t){return N(t.nodeName||t[0]&&t[0].nodeName)}function ht(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),e}function _(t,n,e,i){if(S(t)||ft(t))throw c("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(n){if(t===n)throw c("cpi","Can't copy! Source and destination are identical.");if(e=e||[],i=i||[],st(t)){var r=e.indexOf(t);if(-1!==r)return i[r];e.push(t),i.push(n)}var o;if(lt(t))for(var a=n.length=0;a<t.length;a++)o=_(t[a],null,e,i),st(t[a])&&(e.push(t[a]),i.push(o)),n.push(o);else{var s=n.$$hashKey;for(var u in lt(n)?n.length=0:ot(n,function(t,e){delete n[e]}),t)t.hasOwnProperty(u)&&(o=_(t[u],null,e,i),st(t[u])&&(e.push(t[u]),i.push(o)),n[u]=o);f(n,s)}}else if(n=t)if(lt(t))n=_(t,[],e,i);else if(C(t))n=new Date(t.getTime());else if(d(t))(n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex;else if(st(t)){var l=Object.create(Object.getPrototypeOf(t));n=_(t,l,e,i)}return n}function M(t,e){if(lt(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(st(t))for(var r in e=e||{},t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r]);return e||t}function $t(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!lt(t)){if(C(t))return!!C(e)&&$t(t.getTime(),e.getTime());if(d(t)&&d(e))return t.toString()==e.toString();if(ft(t)||ft(e)||S(t)||S(e)||lt(e))return!1;for(i in r={},t)if("$"!==i.charAt(0)&&!ct(t[i])){if(!$t(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e[i]!==it&&!ct(e[i]))return!1;return!0}if(!lt(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!$t(t[i],e[i]))return!1;return!0}}return!1}var D=function(){if(Y(D.isActive_))return D.isActive_;var e=!(!nt.querySelector("[ng-csp]")&&!nt.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return D.isActive_=e};function j(t,e,n){return t.concat(i.call(e,n))}function gt(t,e){return i.call(t,e||0)}function V(t,e){var n=2<arguments.length?gt(arguments,2):[];return!ct(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,j(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function F(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=it:S(e)?n="$WINDOW":e&&nt===e?n="$DOCUMENT":ft(e)&&(n="$SCOPE"),n}function U(t,e){return void 0===t?it:(x(e)||(e=e?2:null),JSON.stringify(t,F,e))}function q(t){return ut(t)?JSON.parse(t):t}function vt(t){t=rt(t).clone();try{t.empty()}catch(t){}var e=rt("<div>").append(t).html();try{return t[0].nodeType===Tt?N(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+N(e)})}catch(t){return N(e)}}function L(t){try{return decodeURIComponent(t)}catch(t){}}function B(t){var n,i,r={};return ot((t||"").split("&"),function(t){if(t&&(n=t.replace(/\+/g,"%20").split("="),Y(i=L(n[0])))){var e=!Y(n[1])||L(n[1]);E.call(r,i)?lt(r[i])?r[i].push(e):r[i]=[r[i],e]:r[i]=e}}),r}function H(t){var n=[];return ot(t,function(t,e){lt(t)?ot(t,function(t){n.push(J(e,!0)+(!0===t?"":"="+J(t,!0)))}):n.push(J(e,!0)+(!0===t?"":"="+J(t,!0)))}),n.length?n.join("&"):""}function W(t){return J(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function J(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var K=["ng-","data-ng-","ng:","x-ng-"];function X(i,t){var r,o,e={};ot(K,function(t){var e=t+"app";!r&&i.hasAttribute&&i.hasAttribute(e)&&(o=(r=i).getAttribute(e))}),ot(K,function(t){var e,n=t+"app";!r&&(e=i.querySelector("["+n.replace(":","\\:")+"]"))&&(o=(r=e).getAttribute(n))}),r&&(e.strictDi=null!==function(t,e){var n,i,r=K.length;for(t=rt(t),i=0;i<r;++i)if(n=K[i]+e,ut(n=t.attr(n)))return n;return null}(r,"strict-di"),t(r,o?[o]:[],e))}function Z(n,i,r){st(r)||(r={});r=R({strictDi:!1},r);var e=function(){if((n=rt(n)).injector()){var t=n[0]===nt?"document":vt(n);throw c("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var e=Ee(i,r.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),e},t=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(l&&t.test(l.name)&&(r.debugInfoEnabled=!0,l.name=l.name.replace(t,"")),l&&!o.test(l.name))return e();l.name=l.name.replace(o,""),b.resumeBootstrap=function(t){ot(t,function(t){i.push(t)}),e()}}function Q(){l.name="NG_ENABLE_DEBUG_INFO!"+l.name,l.location.reload()}function tt(t){var e=b.element(t).injector();if(!e)throw c("test","no injector found for element argument to getTestability");return e.get("$$testability")}var et=/[A-Z]/g;function mt(t,n){return n=n||"_",t.replace(et,function(t,e){return(e?n:"")+t.toLowerCase()})}var yt,wt=!1;function bt(t,e,n){if(!t)throw c("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function xt(t,e,n){return n&&lt(t)&&(t=t[t.length-1]),bt(ct(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Ct(t,e){if("hasOwnProperty"===t)throw c("badname","hasOwnProperty is not a valid {0} name",e)}function St(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;s<a;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&ct(t)?V(o,t):t}function At(t){var e=t[0],n=t[t.length-1],i=[e];do{if(!(e=e.nextSibling))break;i.push(e)}while(e!==n);return rt(i)}function Et(){return Object.create(null)}var kt=1,Tt=3,Ot=8,_t=9,Pt=11;function Mt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):void 0===t?"undefined":"string"!=typeof t?(e=t,n=[],JSON.stringify(e,function(t,e){if(st(e=F(t,e))){if(0<=n.indexOf(e))return"<<already seen>>";n.push(e)}return e})):t;var e,n}var Dt={full:"1.3.11",major:1,minor:3,dot:11,codeName:"spiffy-manatee"};Xt.expando="ng339";var It=Xt.cache={},Nt=1,Rt=function(t,e,n){t.addEventListener(e,n,!1)},jt=function(t,e,n){t.removeEventListener(e,n,!1)};Xt._data=function(t){return this.cache[t[this.expando]]||{}};var Vt=/([\:\-\_]+(.))/g,Ft=/^moz([A-Z])/,Ut={mouseleave:"mouseout",mouseenter:"mouseover"},qt=w("jqLite");function Lt(t){return t.replace(Vt,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Ft,"Moz$1")}var Bt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ht=/<|&#?\w+;/,Wt=/<([\w:]+)/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Yt(t){return!Ht.test(t)}function Jt(t){var e=t.nodeType;return e===kt||!e||e===_t}function Kt(t,e){var n,i,r,o,a=e.createDocumentFragment(),s=[];if(Yt(t))s.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),i=(Wt.exec(t)||["",""])[1].toLowerCase(),r=zt[i]||zt._default,n.innerHTML=r[1]+t.replace(Gt,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;s=j(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",ot(s,function(t){a.appendChild(t)}),a}function Xt(t){if(t instanceof Xt)return t;var e,n,i,r;if(ut(t)&&(t=dt(t),e=!0),!(this instanceof Xt)){if(e&&"<"!=t.charAt(0))throw qt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Xt(t)}se(this,e?(n=t,i=i||nt,(r=Bt.exec(n))?[i.createElement(r[1])]:(r=Kt(n,i))?r.childNodes:[]):t)}function Zt(t){return t.cloneNode(!0)}function Qt(t,e){if(e||ee(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)ee(n[i])}function te(n,t,i,e){if(Y(e))throw qt("offargs","jqLite#off() does not support the `selector` argument");var r=ne(n),o=r&&r.events,a=r&&r.handle;if(a)if(t)ot(t.split(" "),function(t){if(Y(i)){var e=o[t];if(ht(e||[],i),e&&0<e.length)return}jt(n,t,a),delete o[t]});else for(t in o)"$destroy"!==t&&jt(n,t,a),delete o[t]}function ee(t,e){var n=t.ng339,i=n&&It[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),te(t)),delete It[n],t.ng339=it}}function ne(t,e){var n=t.ng339,i=n&&It[n];return e&&!i&&(t.ng339=n=++Nt,i=It[n]={events:{},data:{},handle:it}),i}function ie(t,e,n){if(Jt(t)){var i=Y(n),r=!i&&e&&!st(e),o=!e,a=ne(t,!r),s=a&&a.data;if(i)s[e]=n;else{if(o)return s;if(r)return s&&s[e];R(s,e)}}}function re(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function oe(e,t){t&&e.setAttribute&&ot(t.split(" "),function(t){e.setAttribute("class",dt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dt(t)+" "," ")))})}function ae(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");ot(e.split(" "),function(t){t=dt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",dt(n))}}function se(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function ue(t,e){return le(t,"$"+(e||"ngController")+"Controller")}function le(t,e,n){t.nodeType==_t&&(t=t.documentElement);for(var i=lt(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if((n=rt.data(t,i[r]))!==it)return n;t=t.parentNode||t.nodeType===Pt&&t.host}}function ce(t){for(Qt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function fe(t,e){e||Qt(t);var n=t.parentNode;n&&n.removeChild(t)}zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td;var de=Xt.prototype={ready:function(t){var e=!1;function n(){e||(e=!0,t())}"complete"===nt.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),Xt(l).on("load",n))},toString:function(){var e=[];return ot(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return rt(0<=t?this[t]:this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice},pe={};ot("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){pe[N(t)]=t});var he={};ot("input,select,option,textarea,button,form,details".split(","),function(t){he[t]=!0});var $e={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function ge(t,e){var n=pe[e.toLowerCase()];return n&&he[pt(t)]&&n}function ve(){this.$get=function(){return R(Xt,{hasClass:function(t,e){return t.attr&&(t=t[0]),re(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),ae(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),oe(t,e)}})}}function me(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||r)():i+":"+t}function ye(t,e){if(e){var n=0;this.nextUid=function(){return++n}}ot(t,this.put,this)}ot({data:ie,removeData:ee},function(t,e){Xt[e]=t}),ot({data:ie,inheritedData:le,scope:function(t){return rt.data(t,"$scope")||le(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return rt.data(t,"$isolateScope")||rt.data(t,"$isolateScopeNoTemplate")},controller:ue,injector:function(t){return le(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:re,css:function(t,e,n){if(e=Lt(e),!Y(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var i=N(e);if(pe[i]){if(!Y(n))return t[e]||(t.attributes.getNamedItem(e)||at).specified?i:it;n?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(Y(n))t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?it:r}},prop:function(t,e,n){if(!Y(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(P(e)){var n=t.nodeType;return n===kt||n===Tt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(P(e)){if(t.multiple&&"select"===pt(t)){var n=[];return ot(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(P(e))return t.innerHTML;Qt(t,!0),t.innerHTML=e},empty:ce},function(l,t){Xt.prototype[t]=function(t,e){var n,i,r=this.length;if(l!==ce&&(2==l.length&&l!==re&&l!==ue?t:e)===it){if(st(t)){for(n=0;n<r;n++)if(l===ie)l(this[n],t);else for(i in t)l(this[n],i,t[i]);return this}for(var o=l.$dv,a=o===it?Math.min(r,1):r,s=0;s<a;s++){var u=l(this[s],t,e);o=o?o+u:u}return o}for(n=0;n<r;n++)l(this[n],t,e);return this}}),ot({removeData:ee,on:function t(e,n,i,r){if(Y(r))throw qt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Jt(e)){var a,s,o,u=ne(e,!0),l=u.events,c=u.handle;c||(c=u.handle=(s=l,(o=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=s[e||t.type],i=n?n.length:0;if(i){if(P(t.immediatePropagationStopped)){var r=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),r&&r.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped},1<i&&(n=M(n));for(var o=0;o<i;o++)t.isImmediatePropagationStopped()||n[o].call(a,t)}}).elem=a=e,o));for(var f=0<=n.indexOf(" ")?n.split(" "):[n],d=f.length;d--;){var p=l[n=f[d]];p||(l[n]=[],"mouseenter"===n||"mouseleave"===n?t(e,Ut[n],function(t){var e=t.relatedTarget;e&&(e===this||this.contains(e))||c(t,n)}):"$destroy"!==n&&Rt(e,n,c),p=l[n]),p.push(i)}}},off:te,one:function(e,n,i){(e=rt(e)).on(n,function t(){e.off(n,i),e.off(n,t)}),e.on(n,i)},replaceWith:function(e,t){var n,i=e.parentNode;Qt(e),ot(new Xt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(t){var e=[];return ot(t.childNodes,function(t){t.nodeType===kt&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===kt||n===Pt)for(var i=0,r=(e=new Xt(e)).length;i<r;i++){var o=e[i];t.appendChild(o)}},prepend:function(e,t){if(e.nodeType===kt){var n=e.firstChild;ot(new Xt(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){e=rt(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:fe,detach:function(t){fe(t,!0)},after:function(t,e){for(var n=t,i=t.parentNode,r=0,o=(e=new Xt(e)).length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:ae,removeClass:oe,toggleClass:function(n,t,i){t&&ot(t.split(" "),function(t){var e=i;P(e)&&(e=!re(n,t)),(e?ae:oe)(n,t)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Pt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Zt,triggerHandler:function(e,t,n){var i,r,o,a=t.type||t,s=ne(e),u=s&&s.events,l=u&&u[a];l&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:at,type:a,target:e},t.type&&(i=R(i,t)),r=M(l),o=n?[i].concat(n):[i],ot(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(a,t){Xt.prototype[t]=function(t,e,n){for(var i,r=0,o=this.length;r<o;r++)P(i)?Y(i=a(this[r],t,e,n))&&(i=rt(i)):se(i,a(this[r],t,e,n));return Y(i)?i:this},Xt.prototype.bind=Xt.prototype.on,Xt.prototype.unbind=Xt.prototype.off}),ye.prototype={put:function(t,e){this[me(t,this.nextUid)]=e},get:function(t){return this[me(t,this.nextUid)]},remove:function(t){var e=this[t=me(t,this.nextUid)];return delete this[t],e}};var we=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,be=/,/,xe=/^\s*(_?)(\S+?)\1\s*$/,Ce=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Se=w("$injector");function Ae(t,e,n){var i,r,o;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw ut(n)&&n||(n=t.name||((o=t.toString().replace(Ce,"").match(we))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Se("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);ot(t.toString().replace(Ce,"").match(we)[1].split(be),function(t){t.replace(xe,function(t,e,n){i.push(n)})})}t.$inject=i}}else lt(t)?(xt(t[r=t.length-1],"fn"),i=t.slice(0,r)):xt(t,"fn",!0);return i}function Ee(t,c){c=!0===c;var r={},a="Provider",s=[],o=new ye([],!0),u={$provide:{provider:e(d),factory:e(i),service:e(function(t,e){return i(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return i(t,y(e),!1)}),constant:e(function(t,e){Ct(t,"constant"),u[t]=e,n[t]=e}),decorator:function(t,e){var n=l.get(t+a),i=n.$get;n.$get=function(){var t=f.invoke(i,n);return f.invoke(e,null,{$delegate:t})}}}},l=u.$injector=p(u,function(t,e){throw b.isString(e)&&s.push(e),Se("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},f=n.$injector=p(n,function(t,e){var n=l.get(t+a,e);return f.invoke(n.$get,n,it,t)});return ot(function n(t){var i,r=[];ot(t,function(e){if(!o.get(e)){o.put(e,!0);try{ut(e)?(i=h(e),r=r.concat(n(i.requires)).concat(i._runBlocks),t(i._invokeQueue),t(i._configBlocks)):ct(e)?r.push(l.invoke(e)):lt(e)?r.push(l.invoke(e)):xt(e,"module")}catch(t){throw lt(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Se("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=l.get(i[0]);r[i[1]].apply(r,i[2])}}});return r}(t),function(t){f.invoke(t||at)}),f;function e(n){return function(t,e){if(!st(t))return n(t,e);ot(t,g(n))}}function d(t,e){if(Ct(t,"service"),(ct(e)||lt(e))&&(e=l.instantiate(e)),!e.$get)throw Se("pget","Provider '{0}' must define $get factory method.",t);return u[t+a]=e}function i(t,e,n){return d(t,{$get:!1!==n?(i=t,r=e,function(){var t=f.invoke(r,this);if(P(t))throw Se("undef","Provider '{0}' must return a value from $get factory method.",i);return t}):e});var i,r}function p(n,i){function l(e,t){if(n.hasOwnProperty(e)){if(n[e]===r)throw Se("cdep","Circular dependency found: {0}",e+" <- "+s.join(" <- "));return n[e]}try{return s.unshift(e),n[e]=r,n[e]=i(e,t)}catch(t){throw n[e]===r&&delete n[e],t}finally{s.shift()}}function o(t,e,n,i){"string"==typeof n&&(i=n,n=null);var r,o,a,s=[],u=Ae(t,c,i);for(o=0,r=u.length;o<r;o++){if("string"!=typeof(a=u[o]))throw Se("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(n&&n.hasOwnProperty(a)?n[a]:l(a,i))}return lt(t)&&(t=t[r]),t.apply(e,s)}return{invoke:o,instantiate:function(t,e,n){var i=Object.create((lt(t)?t[t.length-1]:t).prototype||null),r=o(t,i,e,n);return st(r)||ct(r)?r:i},get:l,annotate:Ae,has:function(t){return u.hasOwnProperty(t+a)||n.hasOwnProperty(t)}}}}function ke(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(i,r,o){var a=i.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=u.yOffset;if(ct(t))t=t();else if(O(t)){var e=t[0];t="fixed"!==i.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else x(t)||(t=0);return t}();if(e){var n=t.getBoundingClientRect().top;i.scrollBy(0,n-e)}}else i.scrollTo(0,0)}function u(){var t,e,n,i=r.hash();i?(t=a.getElementById(i))?s(t):(e=a.getElementsByName(i),n=null,Array.prototype.some.call(e,function(t){if("a"===pt(t))return n=t,!0}),(t=n)?s(t):"top"===i&&s(null)):s(null)}return t&&o.$watch(function(){return r.hash()},function(t,e){var n,i;t===e&&""===t||(n=function(){o.$evalAsync(u)},"complete"===(i=i||l).document.readyState?i.setTimeout(n):rt(i).on("load",n))}),u}]}Ee.$$annotate=Ae;var Te=w("$animate"),Oe=["$provide",function(i){this.$$selectors={},this.register=function(t,e){var n=t+"-animation";if(t&&"."!=t.charAt(0))throw Te("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=n,i.factory(n,e)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(d,t,p){var e;function h(t,e,n){for(var i=0,r=e.length;i<r;++i){t[e[i]]=n}}function r(){return e||(e=d.defer(),t(function(){e.resolve(),e=null})),e.promise}function o(t,e){if(b.isObject(e)){var n=R(e.from||{},e.to||{});t.css(n)}}return{animate:function(t,e,n){return o(t,{from:e,to:n}),r()},enter:function(t,e,n,i){return o(t,i),n?n.after(t):e.prepend(t),r()},leave:function(t,e){return t.remove(),r()},move:function(t,e,n,i){return this.enter(t,e,n,i)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=rt(t),e=ut(e)?e:lt(e)?e.join(" "):"",ot(t,function(t){ae(t,e)}),o(t,n),r()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=rt(t),e=ut(e)?e:lt(e)?e.join(" "):"",ot(t,function(t){oe(t,e)}),o(t,n),r()},setClass:function(u,t,e,n){var l=this,c="$$animateClasses",i=!1,r=(u=rt(u)).data(c);r?n&&r.options&&(r.options=b.extend(r.options||{},n)):(r={classes:{},options:n},i=!0);var o,a,s,f=r.classes;return t=lt(t)?t:t.split(" "),e=lt(e)?e:e.split(" "),h(f,t,!0),h(f,e,!1),i&&(r.promise=(o=function(t){var e,n,i,r,o,a=u.data(c);if(u.removeData(c),a){var s=(e=u,n=a.classes,i=[],r=[],o=Et(),ot((e.attr("class")||"").split(/\s+/),function(t){o[t]=!0}),ot(n,function(t,e){var n=o[e];!1===t&&n?r.push(e):!0!==t||n||i.push(e)}),0<i.length+r.length&&[i.length?i:null,r.length?r:null]);s&&l.$$setClassImmediately(u,s[0],s[1],a.options)}t()},(s=d.defer()).promise.$$cancelFn=function(){a&&a()},p.$$postDigest(function(){a=o(function(){s.resolve()})}),s.promise),u.data(c,r)),r.promise},$$setClassImmediately:function(t,e,n,i){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),o(t,i),r()},enabled:at,cancel:at}}]}];function _e(){this.$get=["$$rAF","$timeout",function(e,n){return e.supported?function(t){return e(t)}:function(t){return n(t,0,!1)}}]}function Pe(s,t,u,l){var c=this,f=t[0],d=s.location,p=s.history,i=s.setTimeout,e=s.clearTimeout,r={};c.isMock=!1;var o=0,n=[];function a(t){try{t.apply(null,gt(arguments,1))}finally{if(0===--o)for(;n.length;)try{n.pop()()}catch(t){u.error(t)}}}c.$$completeOutstandingRequest=a,c.$$incOutstandingRequestCount=function(){o++},c.notifyWhenNoOutstandingRequests=function(t){ot($,function(t){t()}),0===o?t():n.push(t)};var h,$=[];c.addPollFn=function(t){var e,n;return P(h)&&(e=100,n=i,function t(){ot($,function(t){t()}),h=n(t,e)}()),$.push(t),t};var g,v,m=d.href,y=t.find("base"),w=null;A(),v=g,c.url=function(t,e,n){if(P(n)&&(n=null),d!==s.location&&(d=s.location),p!==s.history&&(p=s.history),t){var i=v===n;if(m===t&&(!l.history||i))return c;var r=m&&$n(m)===$n(t);return m=t,v=n,!l.history||r&&i?(r||(w=t),e?d.replace(t):r?d.hash=-1===(a=(o=t).indexOf("#"))?"":o.substr(a+1):d.href=t):(p[e?"replaceState":"pushState"](n,"",t),A(),v=g),c}return w||d.href.replace(/%27/g,"'");var o,a},c.state=function(){return g};var b=[],x=!1;function C(){A(),E()}var S=null;function A(){$t(g=P(g=s.history.state)?null:g,S)&&(g=S),S=g}function E(){m===c.url()&&v===g||(m=c.url(),v=g,ot(b,function(t){t(c.url(),g)}))}c.onUrlChange=function(t){return x||(l.history&&rt(s).on("popstate",C),rt(s).on("hashchange",C),x=!0),b.push(t),t},c.$$checkUrlChange=E,c.baseHref=function(){var t=y.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var k={},T="",O=c.baseHref();function _(e){try{return decodeURIComponent(e)}catch(t){return e}}c.cookies=function(t,e){var n,i,r,o,a;if(!t){if(f.cookie!==T)for(i=(T=f.cookie).split("; "),k={},o=0;o<i.length;o++)0<(a=(r=i[o]).indexOf("="))&&(t=_(r.substring(0,a)),k[t]===it&&(k[t]=_(r.substring(a+1))));return k}e===it?f.cookie=encodeURIComponent(t)+"=;path="+O+";expires=Thu, 01 Jan 1970 00:00:00 GMT":ut(e)&&4096<(n=(f.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+O).length+1)&&u.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!")},c.defer=function(t,e){var n;return o++,n=i(function(){delete r[n],a(t)},e||0),r[n]=!0,n},c.defer.cancel=function(t){return!!r[t]&&(delete r[t],e(t),a(at),!0)}}function Me(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new Pe(t,i,e,n)}]}function De(){this.$get=function(){var f={};function t(t,e){if(t in f)throw w("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,i=R({},e,{id:t}),r={},o=e&&e.capacity||Number.MAX_VALUE,a={},s=null,u=null;return f[t]={put:function(t,e){o<Number.MAX_VALUE&&l(a[t]||(a[t]={key:t}));if(!P(e))return t in r||n++,r[t]=e,o<n&&this.remove(u.key),e},get:function(t){if(o<Number.MAX_VALUE){var e=a[t];if(!e)return;l(e)}return r[t]},remove:function(t){if(o<Number.MAX_VALUE){var e=a[t];if(!e)return;e==s&&(s=e.p),e==u&&(u=e.n),c(e.n,e.p),delete a[t]}delete r[t],n--},removeAll:function(){r={},n=0,a={},s=u=null},destroy:function(){a=i=r=null,delete f[t]},info:function(){return R({},i,{size:n})}};function l(t){t!=s&&(u?u==t&&(u=t.n):u=t,c(t.n,t.p),c(t,s),(s=t).n=null)}function c(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return ot(f,function(t,e){n[e]=t.info()}),n},t.get=function(t){return f[t]},t}}function Ie(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var Ne=w("$compile");function Re(n,e){var p={},h="Directive",D=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,I=/(([\w\-]+)(?:\:([^;]+))?;?)/,c=function(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),et=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,f=/^(on[a-z]+|formaction)$/;this.directive=function t(c,e){return Ct(c,"directive"),ut(c)?(bt(e,"directiveFactory"),p.hasOwnProperty(c)||(p[c]=[],n.factory(c+h,["$injector","$exceptionHandler",function(s,u){var l=[];return ot(p[c],function(t,e){try{var n=s.invoke(t);ct(n)?n={compile:y(n)}:!n.compile&&n.link&&(n.compile=y(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||c,n.require=n.require||n.controller&&n.name,n.restrict=n.restrict||"EA",st(n.scope)&&(n.$$isolateBindings=(i=n.scope,r=n.name,o=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,a={},ot(i,function(t,e){var n=t.match(o);if(!n)throw Ne("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",r,e,t);a[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e}}),a)),l.push(n)}catch(t){u(t)}var i,r,o,a}),l}])),p[c].push(e)):ot(c,g(t)),this},this.aHrefSanitizationWhitelist=function(t){return Y(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return Y(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var s=!0;this.debugInfoEnabled=function(t){return Y(t)?(s=t,this):s},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(d,j,V,t,F,U,o,e,i,r,w){var q=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=e[r]}else this.$attr={};this.$$element=t};function T(t,e){try{t.addClass(e)}catch(t){}}q.prototype={$normalize:Ve,$addClass:function(t){t&&0<t.length&&r.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&r.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Fe(t,e);n&&n.length&&r.addClass(this.$$element,n);var i=Fe(e,t);i&&i.length&&r.removeClass(this.$$element,i)},$set:function(t,e,n,i){var r,o,a,s=this.$$element[0],u=ge(s,t),l=(o=t,("INPUT"===(a=s.nodeName)||"TEXTAREA"===a)&&$e[o]),c=t;if(u?(this.$$element.prop(t,e),i=u):l&&(this[l]=e,c=l),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t])||(this.$attr[t]=i=mt(t,"-")),"a"===(r=pt(this.$$element))&&"href"===t||"img"===r&&"src"===t)this[t]=e=w(e,"src"===t);else if("img"===r&&"srcset"===t){for(var f="",d=dt(e),p=/\s/.test(d)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,h=d.split(p),$=Math.floor(h.length/2),g=0;g<$;g++){var v=2*g;f+=w(dt(h[v]),!0),f+=" "+dt(h[v+1])}var m=dt(h[2*g]).split(/\s/);f+=w(dt(m[0]),!0),2===m.length&&(f+=" "+dt(m[1])),this[t]=e=f}!1!==n&&(null===e||e===it?this.$$element.removeAttr(i):this.$$element.attr(i,e));var y=this.$$observers;y&&ot(y[c],function(t){try{t(e)}catch(t){V(t)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=Et()),r=i[t]||(i[t]=[]);return r.push(e),o.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){ht(r,e)}}};var n=j.startSymbol(),a=j.endSymbol(),L="{{"==n||"}}"==a?m:function(t){return t.replace(/\{\{/g,n).replace(/}}/g,a)},S=/^ngAttr[A-Z]/;return B.$$addBindingInfo=s?function(t,e){var n=t.data("$binding")||[];lt(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:at,B.$$addBindingClass=s?function(t){T(t,"ng-binding")}:at,B.$$addScopeInfo=s?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:at,B.$$addScopeClass=s?function(t,e){T(t,e?"ng-isolate-scope":"ng-scope")}:at,B;function B(c,t,e,n,i){c instanceof rt||(c=rt(c)),ot(c,function(t,e){t.nodeType==Tt&&t.nodeValue.match(/\S+/)&&(c[e]=rt(t).wrap("<span></span>").parent()[0])});var f=O(c,t,c,e,n,i);B.$$addScopeClass(c);var d=null;return function(t,e,n){bt(t,"scope");var i,r,o,a=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,u=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),d||(r=(i=u)&&i[0],d=r&&"foreignobject"!==pt(r)&&r.toString().match(/SVG/)?"svg":"html"),o="html"!==d?rt(X(d,rt("<div>").append(c).html())):e?de.clone.call(c):c,s)for(var l in s)o.data("$"+l+"Controller",s[l].instance);return B.$$addScopeInfo(o,t),e&&e(o,t),f&&f(t,o,o,a),o}}function O(t,h,e,n,i,r){for(var o,a,s,u,l,c,$,g=[],f=0;f<t.length;f++)o=new q,(s=(a=H(t[f],[],o,0===f?n:it,i)).length?P(a,t[f],o,h,e,null,[],[],r):null)&&s.scope&&B.$$addScopeClass(o.$$element),l=s&&s.terminal||!(u=t[f].childNodes)||!u.length?null:O(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:h),(s||l)&&(g.push(f,s,l),c=!0,$=$||s),r=null;return c?function(t,e,n,i){var r,o,a,s,u,l,c,f,d;if($){var p=e.length;for(d=new Array(p),u=0;u<g.length;u+=3)c=g[u],d[c]=e[c]}else d=e;for(u=0,l=g.length;u<l;)a=d[g[u++]],r=g[u++],o=g[u++],r?(r.scope?(s=t.$new(),B.$$addScopeInfo(rt(a),s)):s=t,f=r.transcludeOnThisElement?_(t,r.transclude,i,r.elementTranscludeOnThisElement):!r.templateOnThisElement&&i?i:!i&&h?_(t,h):null,r(o,s,a,n,f)):o&&o(t,a.childNodes,it,i)}:null}function _(o,a,s,t){return function(t,e,n,i,r){return t||((t=o.$new(!1,r)).$$transcluded=!0),a(t,e,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:i})}}function H(t,e,n,i,r){var o,a,s,u,l,c=t.nodeType,f=n.$attr;switch(c){case kt:A(e,Ve(pt(t)),"E",i,r);for(var d,p,h,$,g,v,m=t.attributes,y=0,w=m&&m.length;y<w;y++){var b=!1,x=!1;p=(d=m[y]).name,g=dt(d.value),$=Ve(p),(v=S.test($))&&(p=p.replace(je,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=$.replace(/(Start|End)$/,"");E(C)&&$===C+"Start"&&(x=(b=p).substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),f[h=Ve(p.toLowerCase())]=p,!v&&n.hasOwnProperty(h)||(n[h]=g,ge(t,h)&&(n[h]=!0)),M(t,e,g,h,v),A(e,h,"A",i,r,b,x)}if(st(a=t.className)&&(a=a.animVal),ut(a)&&""!==a)for(;o=I.exec(a);)A(e,h=Ve(o[2]),"C",i,r)&&(n[h]=dt(o[3])),a=a.substr(o.index+o[0].length);break;case Tt:s=e,u=t.nodeValue,(l=j(u,!0))&&s.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&B.$$addBindingClass(e),function(t,e){var n=e.parent();i||B.$$addBindingClass(n),B.$$addBindingInfo(n,l.expressions),t.$watch(l,function(t){e[0].nodeValue=t})}}});break;case Ot:try{(o=D.exec(t.nodeValue))&&A(e,h=Ve(o[1]),"M",i,r)&&(n[h]=dt(o[2]))}catch(t){}}return e.sort(k),e}function W(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Ne("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==kt&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r);else i.push(t);return rt(i)}function G(o,a,s){return function(t,e,n,i,r){return e=W(e[0],a,s),o(t,e,n,i,r)}}function P(t,v,m,e,n,i,y,w,r){r=r||{};for(var o,b,a,s,u,l,c,f=-Number.MAX_VALUE,x=r.controllerDirectives,C=r.newIsolateScopeDirective,S=r.templateDirective,d=r.nonTlbTranscludeDirective,p=!1,h=!1,A=r.hasElementTranscludeDirective,$=m.$$element=rt(v),g=i,E=e,k=0,T=t.length;k<T;k++){var O=(a=t[k]).$$start,_=a.$$end;if(O&&($=W(v,O,_)),u=it,f>a.priority)break;if((c=a.scope)&&(a.templateUrl||(st(c)?(K("new/isolated scope",C||o,a,$),C=a):K("new/isolated scope",C,a,$)),o=o||a),s=a.name,!a.templateUrl&&a.controller&&(c=a.controller,K("'"+s+"' controller",(x=x||{})[s],a,$),x[s]=a),(c=a.transclude)&&(p=!0,a.$$tlb||(K("transclusion",d,a,$),d=a),E="element"==c?(A=!0,f=a.priority,u=$,$=m.$$element=rt(nt.createComment(" "+s+": "+m[s]+" ")),v=$[0],Z(n,gt(u),v),B(u,e,f,g&&g.name,{nonTlbTranscludeDirective:d})):(u=rt(Zt(v)).contents(),$.empty(),B(u,e))),a.template)if(h=!0,K("template",S,a,$),c=ct((S=a).template)?a.template($,m):a.template,c=L(c),a.replace){if(g=a,u=Yt(c)?[]:Ue(X(a.templateNamespace,dt(c))),v=u[0],1!=u.length||v.nodeType!==kt)throw Ne("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");Z(n,$,v);var P={$attr:{}},M=H(v,[],P),D=t.splice(k+1,t.length-(k+1));C&&z(M),t=t.concat(M).concat(D),Y(m,P),T=t.length}else $.html(c);if(a.templateUrl)h=!0,K("template",S,a,$),(S=a).replace&&(g=a),R=J(t.splice(k,t.length-k),$,m,n,p&&E,y,w,{controllerDirectives:x,newIsolateScopeDirective:C,templateDirective:S,nonTlbTranscludeDirective:d}),T=t.length;else if(a.compile)try{ct(l=a.compile($,m,E))?I(null,l,O,_):l&&I(l.pre,l.post,O,_)}catch(t){V(t,vt($))}a.terminal&&(R.terminal=!0,f=Math.max(f,a.priority))}return R.scope=o&&!0===o.scope,R.transcludeOnThisElement=p,R.elementTranscludeOnThisElement=A,R.templateOnThisElement=h,R.transclude=E,r.hasElementTranscludeDirective=A,R;function I(t,e,n,i){t&&(n&&(t=G(t,n,i)),t.require=a.require,t.directiveName=s,(C===a||a.$$isolateScope)&&(t=Q(t,{isolateScope:!0})),y.push(t)),e&&(n&&(e=G(e,n,i)),e.require=a.require,e.directiveName=s,(C===a||a.$$isolateScope)&&(e=Q(e,{isolateScope:!0})),w.push(e))}function N(e,t,n,i){var r,o,a="data",s=!1,u=n;if(ut(t)){if(o=t.match(et),t=t.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?a="inheritedData":"^^"===o[1]&&(a="inheritedData",u=n.parent()),"?"===o[2]&&(s=!0),r=null,i&&"data"===a&&(r=i[t])&&(r=r.instance),!(r=r||u[a]("$"+t+"Controller"))&&!s)throw Ne("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r||null}return lt(t)&&(r=[],ot(t,function(t){r.push(N(e,t,n,i))})),r}function R(t,c,e,n,r){var i,o,a,s,f,u,l,d,p;if(v===e?d=(p=m).$$element:(d=rt(e),p=new q(d,m)),C&&(f=c.$new(!0)),r&&((l=function(t,e,n){var i;ft(t)||(n=e,e=t,t=it);A&&(i=u);n||(n=A?d.parent():d);return r(t,e,i,n,g)}).$$boundTransclude=r),x&&(b={},u={},ot(x,function(t){var e,n={$scope:t===C||t.$$isolateScope?f:c,$element:d,$attrs:p,$transclude:l};"@"==(s=t.controller)&&(s=p[t.name]),e=U(s,n,!0,t.controllerAs),u[t.name]=e,A||d.data("$"+t.name+"Controller",e.instance),b[t.name]=e})),C){B.$$addScopeInfo(d,f,!0,!(S&&(S===C||S===C.$$originalDirective))),B.$$addScopeClass(d,!0);var h=b&&b[C.name],$=f;h&&h.identifier&&!0===C.bindToController&&($=h.instance),ot(f.$$isolateBindings=C.$$isolateBindings,function(t,e){var n,i,r,o,a=t.attrName,s=t.optional;switch(t.mode){case"@":p.$observe(a,function(t){$[e]=t}),p.$$observers[a].$$scope=c,p[a]&&($[e]=j(p[a])(c));break;case"=":if(s&&!p[a])return;i=F(p[a]),o=i.literal?$t:function(t,e){return t===e||t!=t&&e!=e},r=i.assign||function(){throw n=$[e]=i(c),Ne("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",p[a],C.name)},n=$[e]=i(c);var u,l=function(t){return o(t,$[e])||(o(t,n)?r(c,t=$[e]):$[e]=t),n=t};l.$stateful=!0,u=t.collection?c.$watchCollection(p[a],l):c.$watch(F(p[a],l),null,i.literal),f.$on("$destroy",u);break;case"&":i=F(p[a]),$[e]=function(t){return i(c,t)}}})}for(b&&(ot(b,function(t){t()}),b=null),i=0,o=y.length;i<o;i++)tt(a=y[i],a.isolateScope?f:c,d,p,a.require&&N(a.directiveName,a.require,d,u),l);var g=c;for(C&&(C.template||null===C.templateUrl)&&(g=f),t&&t(g,e.childNodes,it,r),i=w.length-1;0<=i;i--)tt(a=w[i],a.isolateScope?f:c,d,p,a.require&&N(a.directiveName,a.require,d,u),l)}}function z(t){for(var e=0,n=t.length;e<n;e++)t[e]=v(t[e],{$$isolateScope:!0})}function A(t,e,n,i,r,o,a){if(e===r)return null;var s=null;if(p.hasOwnProperty(e))for(var u,l=d.get(e+h),c=0,f=l.length;c<f;c++)try{u=l[c],(i===it||i>u.priority)&&-1!=u.restrict.indexOf(n)&&(o&&(u=v(u,{$$start:o,$$end:a})),t.push(u),s=u)}catch(t){V(t)}return s}function E(t){if(p.hasOwnProperty(t))for(var e=d.get(t+h),n=0,i=e.length;n<i;n++)if(e[n].multiElement)return!0;return!1}function Y(n,i){var r=i.$attr,o=n.$attr,a=n.$$element;ot(n,function(t,e){"$"!=e.charAt(0)&&(i[e]&&i[e]!==t&&(t+=("style"===e?";":" ")+i[e]),n.$set(e,t,!0,r[e]))}),ot(i,function(t,e){"class"==e?(T(a,t),n.class=(n.class?n.class+" ":"")+t):"style"==e?(a.attr("style",a.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==e.charAt(0)||n.hasOwnProperty(e)||(n[e]=t,o[e]=r[e])})}function J(d,p,h,$,g,v,m,y){var w,b,x=[],C=p[0],S=d.shift(),A=R({},S,{templateUrl:null,transclude:null,replace:null,$$originalDirective:S}),E=ct(S.templateUrl)?S.templateUrl(p,h):S.templateUrl,k=S.templateNamespace;return p.empty(),t(i.getTrustedResourceUrl(E)).then(function(t){var n,e,i,r;if(t=L(t),S.replace){if(i=Yt(t)?[]:Ue(X(k,dt(t))),n=i[0],1!=i.length||n.nodeType!==kt)throw Ne("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S.name,E);e={$attr:{}},Z($,p,n);var o=H(n,[],e);st(S.scope)&&z(o),d=o.concat(d),Y(h,e)}else n=C,p.html(t);for(d.unshift(A),w=P(d,n,h,g,p,S,v,m,y),ot($,function(t,e){t==n&&($[e]=p[0])}),b=O(p[0].childNodes,g);x.length;){var a=x.shift(),s=x.shift(),u=x.shift(),l=x.shift(),c=p[0];if(!a.$$destroyed){if(s!==C){var f=s.className;y.hasElementTranscludeDirective&&S.replace||(c=Zt(n)),Z(u,rt(s),c),T(rt(c),f)}r=w.transcludeOnThisElement?_(a,w.transclude,l):l,w(b,a,c,$,r)}}x=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(x?x.push(e,n,i,o):(w.transcludeOnThisElement&&(o=_(e,w.transclude,r)),w(b,e,n,i,o)))}}function k(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,i){if(e)throw Ne("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,vt(i))}function X(t,e){switch(t=N(t||"html")){case"svg":case"math":var n=nt.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function M(t,e,o,a,s){var u=function(t,e){if("srcdoc"==e)return i.HTML;var n=pt(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?i.RESOURCE_URL:void 0}(t,a);s=c[a]||s;var l=j(o,!0,u,s);if(l){if("multiple"===a&&"select"===pt(t))throw Ne("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",vt(t));e.push({priority:100,compile:function(){return{pre:function(t,e,n){var i=n.$$observers||(n.$$observers={});if(f.test(a))throw Ne("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var r=n[a];r!==o&&(l=r&&j(r,!0,u,s),o=r),l&&(n[a]=l(t),(i[a]||(i[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||t).$watch(l,function(t,e){"class"===a&&t!=e?n.$updateClass(t,e):n.$set(a,t)}))}}}})}}function Z(t,e,n){var i,r,o=e[0],a=e.length,s=o.parentNode;if(t)for(i=0,r=t.length;i<r;i++)if(t[i]==o){t[i++]=n;for(var u=i,l=u+a-1,c=t.length;u<c;u++,l++)l<c?t[u]=t[l]:delete t[u];t.length-=a-1,t.context===o&&(t.context=n);break}s&&s.replaceChild(n,o);var f=nt.createDocumentFragment();f.appendChild(o),rt(n).data(rt(o).data()),$?(yt=!0,$.cleanData([o])):delete rt.cache[o[rt.expando]];for(var d=1,p=e.length;d<p;d++){var h=e[d];rt(h).remove(),f.appendChild(h),delete e[d]}e[0]=n,e.length=1}function Q(t,e){return R(function(){return t.apply(null,arguments)},t,e)}function tt(t,e,n,i,r,o){try{t(e,n,i,r,o)}catch(t){V(t,vt(n))}}}]}Re.$inject=["$provide","$$sanitizeUriProvider"];var je=/^((?:x|data)[\:\-_])/i;function Ve(t){return Lt(t.replace(je,""))}function Fe(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(0<n.length?" ":"")+a}return n}function Ue(t){var e=(t=rt(t)).length;if(e<=1)return t;for(;e--;){t[e].nodeType===Ot&&n.call(t,e,1)}return t}function qe(){var d={},p=!1,h=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,e){Ct(t,"controller"),st(t)?R(d,t):d[t]=e},this.allowGlobals=function(){p=!0},this.$get=["$injector","$window",function(l,c){return function(t,e,n,i){var r,o,a,s;if(n=!0===n,i&&ut(i)&&(s=i),ut(t)&&(o=t.match(h),a=o[1],s=s||o[3],xt(t=d.hasOwnProperty(a)?d[a]:St(e.$scope,a,!0)||(p?St(c,a,!0):it),a,!0)),n){var u=(lt(t)?t[t.length-1]:t).prototype;return r=Object.create(u||null),s&&f(e,s,r,a||t.name),R(function(){return l.invoke(t,r,e,a),r},{instance:r,identifier:s})}return r=l.instantiate(t,e,a),s&&f(e,s,r,a||t.name),r};function f(t,e,n,i){if(!t||!st(t.$scope))throw w("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}}]}function Le(){this.$get=["$window",function(t){return rt(t.document)}]}function Be(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}var He="application/json",We={"Content-Type":He+";charset=utf-8"},Ge=/^\[|^\{(?!\{)/,ze={"[":/]$/,"{":/}$/},Ye=/^\)\]\}',?\n/;function Je(t,e){if(ut(t)){var n=t.replace(Ye,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(He)||(o=(r=n).match(Ge))&&ze[o[0]].test(r))&&(t=q(n))}}var r,o;return t}function Ke(t){var e,n,i,r=Et();return t&&ot(t.split("\n"),function(t){i=t.indexOf(":"),e=N(dt(t.substr(0,i))),n=dt(t.substr(i+1)),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r}function Xe(n){var i=st(n)?n:it;return function(t){if(i||(i=Ke(n)),t){var e=i[N(t)];return void 0===e&&(e=null),e}return i}}function Ze(e,n,i,t){return ct(t)?t(e,n,i):(ot(t,function(t){e=t(e,n,i)}),e)}function Qe(t){return 200<=t&&t<300}function tn(){var m=this.defaults={transformResponse:[Je],transformRequest:[function(t){return st(t)&&(i=t,"[object File]"!==s.call(i))&&(n=t,"[object Blob]"!==s.call(n))&&(e=t,"[object FormData]"!==s.call(e))?U(t):t;var e,n,i}],headers:{common:{Accept:"application/json, text/plain, */*"},post:M(We),put:M(We),patch:M(We)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},y=!1;this.useApplyAsync=function(t){return Y(t)?(y=!!t,this):y};var n=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,p,t,h,$,e){var g=t("$http"),s=[];function v(t){if(!b.isObject(t))throw w("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var n=R({method:"get",transformRequest:m.transformRequest,transformResponse:m.transformResponse},t);n.headers=function(t){var e,n,i,r=m.headers,o=R({},t.headers);r=R({},r.common,r[N(t.method)]);t:for(e in r){for(i in n=N(e),o)if(N(i)===n)continue t;o[e]=r[e]}return a=o,u={},ot(a,function(t,e){ct(t)?null!=(s=t())&&(u[e]=s):u[e]=t}),u;var a,s,u}(t),n.method=u(n.method);var e=[function(t){var n=t.headers,e=Ze(t.data,Xe(n),it,t.transformRequest);return P(e)&&ot(n,function(t,e){"content-type"===N(e)&&delete n[e]}),P(t.withCredentials)&&!P(m.withCredentials)&&(t.withCredentials=m.withCredentials),function(r,t){var o,e,a=$.defer(),n=a.promise,i=r.headers,s=function(t,e){if(!e)return t;var n=[];return function(t,e,n){for(var i=z(t),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r])}(e,function(t,e){null===t||P(t)||(lt(t)||(t=[t]),ot(t,function(t){st(t)&&(t=C(t)?t.toISOString():U(t)),n.push(J(e)+"="+J(t))}))}),0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}(r.url,r.params);if(v.pendingRequests.push(r),n.then(f,f),!r.cache&&!m.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(o=st(r.cache)?r.cache:st(m.cache)?m.cache:g),o&&(Y(e=o.get(s))?k(e)?e.then(c,c):lt(e)?l(e[1],e[0],M(e[2]),e[3]):l(e,200,{},"OK"):o.put(s,n)),P(e)){var u=ci(r.url)?p.cookies()[r.xsrfCookieName||m.xsrfCookieName]:it;u&&(i[r.xsrfHeaderName||m.xsrfHeaderName]=u),d(r.method,s,t,function(t,e,n,i){function r(){l(e,t,n,i)}o&&(Qe(t)?o.put(s,[t,e,Ke(n),i]):o.remove(s)),y?h.$applyAsync(r):(r(),h.$$phase||h.$apply())},i,r.timeout,r.withCredentials,r.responseType)}return n;function l(t,e,n,i){(Qe(e=Math.max(e,0))?a.resolve:a.reject)({data:t,status:e,headers:Xe(n),config:r,statusText:i})}function c(t){l(t.data,t.status,M(t.headers()),t.statusText)}function f(){var t=v.pendingRequests.indexOf(r);-1!==t&&v.pendingRequests.splice(t,1)}}(t,e).then(a,a)},it],i=$.when(n);for(ot(s,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&e.push(t.response,t.responseError)});e.length;){var r=e.shift(),o=e.shift();i=i.then(r,o)}return i.success=function(e){return i.then(function(t){e(t.data,t.status,t.headers,n)}),i},i.error=function(e){return i.then(null,function(t){e(t.data,t.status,t.headers,n)}),i},i;function a(t){var e=R({},t);return t.data?e.data=Ze(t.data,t.headers,t.status,n.transformResponse):e.data=t.data,Qe(t.status)?e:$.reject(e)}}return ot(n,function(t){s.unshift(ut(t)?e.get(t):e.invoke(t))}),v.pendingRequests=[],function(t){ot(arguments,function(n){v[n]=function(t,e){return v(R(e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){ot(arguments,function(i){v[i]=function(t,e,n){return v(R(n||{},{method:i,url:t,data:e}))}})}("post","put","patch"),v.defaults=m,v}]}function en(){return new l.XMLHttpRequest}function nn(){this.$get=["$browser","$window","$document",function(t,e,n){return b=en,x=(w=t).defer,C=e.angular.callbacks,S=n[0],function(t,i,e,r,n,o,a,s){if(w.$$incOutstandingRequestCount(),i=i||w.url(),"jsonp"==N(t)){var u="_"+(C.counter++).toString(36);C[u]=function(t){C[u].data=t,C[u].called=!0};var l=(d=i.replace("JSON_CALLBACK","angular.callbacks."+u),p=u,h=function(t,e){y(r,t,C[u].data,"",e),C[u]=at},$=S.createElement("script"),g=null,$.type="text/javascript",$.src=d,$.async=!0,Rt($,"load",g=function(t){jt($,"load",g),jt($,"error",g),S.body.removeChild($),$=null;var e=-1,n="unknown";t&&("load"!==t.type||C[p].called||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),h&&h(e,n)}),Rt($,"error",g),S.body.appendChild($),g)}else{var c=b();c.open(t,i,!0),ot(n,function(t,e){Y(t)&&c.setRequestHeader(e,t)}),c.onload=function(){var t=c.statusText||"",e="response"in c?c.response:c.responseText,n=1223===c.status?204:c.status;0===n&&(n=e?200:"file"==li(i).protocol?404:0),y(r,n,e,c.getAllResponseHeaders(),t)};var f=function(){y(r,-1,null,null,"")};if(c.onerror=f,c.onabort=f,a&&(c.withCredentials=!0),s)try{c.responseType=s}catch(t){if("json"!==s)throw t}c.send(e||null)}var d,p,h,$,g;if(0<o)var v=x(m,o);else k(o)&&o.then(m);function m(){l&&l(),c&&c.abort()}function y(t,e,n,i,r){v!==it&&x.cancel(v),l=c=null,t(e,n,i,r),w.$$completeOutstandingRequest(at)}};var w,b,x,C,S}]}var rn=w("$interpolate");function on(){var A="{{",E="}}";this.startSymbol=function(t){return t?(A=t,this):A},this.endSymbol=function(t){return t?(E=t,this):E},this.$get=["$parse","$exceptionHandler","$sce",function(m,y,w){var b=A.length,x=E.length,C=new RegExp(A.replace(/./g,t),"g"),S=new RegExp(E.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function e(o,t,e,i){i=!!i;for(var n,r,a,s=0,u=[],l=[],c=o.length,f=[],d=[];s<c;){if(-1==(n=o.indexOf(A,s))||-1==(r=o.indexOf(E,n+b))){s!==c&&f.push(g(o.substring(s)));break}s!==n&&f.push(g(o.substring(s,n))),a=o.substring(n+b,r),u.push(a),l.push(m(a,v)),s=r+x,d.push(f.length),f.push("")}if(e&&1<f.length)throw rn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!t||u.length){var p=function(t){for(var e=0,n=u.length;e<n;e++){if(i&&P(t[e]))return;f[d[e]]=t[e]}return f.join("")},h=function(t){return e?w.getTrusted(e,t):w.valueOf(t)},$=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}return t};return R(function(t){var e=0,n=u.length,i=new Array(n);try{for(;e<n;e++)i[e]=l[e](t);return p(i)}catch(t){var r=rn("interr","Can't interpolate: {0}\n{1}",o,t.toString());y(r)}},{exp:o,expressions:u,$$watchDelegate:function(i,r,t){var o;return i.$watchGroup(l,function(t,e){var n=p(t);ct(r)&&r.call(this,n,t!==e?o:n,i),o=n},t)}})}function g(t){return t.replace(C,A).replace(S,E)}function v(t){try{return t=h(t),i&&!Y(t)?t:$(t)}catch(t){var e=rn("interr","Can't interpolate: {0}\n{1}",o,t.toString());y(e)}}}return e.startSymbol=function(){return A},e.endSymbol=function(){return E},e}]}function an(){this.$get=["$rootScope","$window","$q","$$q",function(c,f,d,p){var h={};function t(t,e,n,i){var r=f.setInterval,o=f.clearInterval,a=0,s=Y(i)&&!i,u=(s?p:d).defer(),l=u.promise;return n=Y(n)?n:0,l.then(null,null,t),l.$$intervalId=r(function(){u.notify(a++),0<n&&n<=a&&(u.resolve(a),o(l.$$intervalId),delete h[l.$$intervalId]),s||c.$apply()},e),h[l.$$intervalId]=u,l}return t.cancel=function(t){return!!(t&&t.$$intervalId in h)&&(h[t.$$intervalId].reject("canceled"),f.clearInterval(t.$$intervalId),delete h[t.$$intervalId],!0)},t}]}function sn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}var un=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ln={http:80,https:443,ftp:21},cn=w("$location");function fn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=W(e[n]);return e.join("/")}function dn(t,e){var n=li(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||ln[n.protocol]||null}function pn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=li(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=B(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function hn(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function $n(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function gn(t){return t.replace(/(#.+)|#$/,"$1")}function vn(t){return t.substr(0,$n(t).lastIndexOf("/")+1)}function mn(o,a){this.$$html5=!0,a=a||"";var s=vn(o);dn(o,this),this.$$parse=function(t){var e=hn(s,t);if(!ut(e))throw cn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,s);pn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=s+this.$$url.substr(1)},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):((n=hn(o,t))!==it?r=(n=hn(a,i=n))!==it?s+(hn("/",n)||n):o+i:(n=hn(s,t))!==it?r=s+n:s==t+"/"&&(r=s),r&&this.$$parse(r),!!r);var n,i,r}}function yn(i,r){var o=vn(i);dn(i,this),this.$$parse=function(t){var e,n=hn(i,t)||hn(o,t);"#"===n.charAt(0)?P(e=hn(r,n))&&(e=n):e=this.$$html5?n:"",pn(e,this),this.$$path=function(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;0===e.indexOf(n)&&(e=e.replace(n,""));if(r.exec(e))return t;return(i=r.exec(t))?i[1]:t}(this.$$path,e,i),this.$$compose()},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+(this.$$url?r+this.$$url:"")},this.$$parseLinkUrl=function(t,e){return $n(i)==$n(t)&&(this.$$parse(t),!0)}}function wn(r,o){this.$$html5=!0,yn.apply(this,arguments);var a=vn(r);this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(r==$n(t)?n=t:(i=hn(a,t))?n=r+o+i:a===t+"/"&&(n=a),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+o+this.$$url}}var bn={$$html5:!1,$$replace:!1,absUrl:xn("$$absUrl"),url:function(t){if(P(t))return this.$$url;var e=un.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:xn("$$protocol"),host:xn("$$host"),port:xn("$$port"),path:Cn("$$path",function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(ut(n)||x(n))n=n.toString(),this.$$search=B(n);else{if(!st(n))throw cn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");ot(n=_(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:P(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:Cn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function xn(t){return function(){return this[t]}}function Cn(e,n){return function(t){return P(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function Sn(){var $="",g={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return Y(t)?($=t,this):$},this.html5Mode=function(t){return A(t)?(g.enabled=t,this):st(t)?(A(t.enabled)&&(g.enabled=t.enabled),A(t.requireBase)&&(g.requireBase=t.requireBase),A(t.rewriteLinks)&&(g.rewriteLinks=t.rewriteLinks),this):g},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,e,r,o){var u,t,n,i,l=s.baseHref(),c=s.url();if(g.enabled){if(!l&&g.requireBase)throw cn("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(i=c).substring(0,i.indexOf("/",i.indexOf("//")+2))+(l||"/"),t=e.history?mn:wn}else n=$n(c),t=yn;(u=new t(n,"#"+$)).$$parseLinkUrl(c,c),u.$$state=s.state();var f=/^\s*(javascript|mailto):/i;function d(t,e,n){var i=u.url(),r=u.$$state;try{s.url(t,e,n),u.$$state=s.state()}catch(t){throw u.url(i),u.$$state=r,t}}r.on("click",function(t){if(g.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var e=rt(t.target);"a"!==pt(e[0]);)if(e[0]===r[0]||!(e=e.parent())[0])return;var n=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");st(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=li(n.animVal).href),f.test(n)||!n||e.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(n,i)&&(t.preventDefault(),u.absUrl()!=s.url()&&(a.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),u.absUrl()!=c&&s.url(u.absUrl(),!0);var p=!0;return s.onUrlChange(function(i,r){a.$evalAsync(function(){var t,e=u.absUrl(),n=u.$$state;u.$$parse(i),u.$$state=r,t=a.$broadcast("$locationChangeStart",i,e,r,n).defaultPrevented,u.absUrl()===i&&(t?(u.$$parse(e),d(e,!1,u.$$state=n)):(p=!1,h(e,n)))}),a.$$phase||a.$digest()}),a.$watch(function(){var n=gn(s.url()),t=gn(u.absUrl()),i=s.state(),r=u.$$replace,o=n!==t||u.$$html5&&e.history&&i!==u.$$state;(p||o)&&(p=!1,a.$evalAsync(function(){var t=u.absUrl(),e=a.$broadcast("$locationChangeStart",t,n,u.$$state,i).defaultPrevented;u.absUrl()===t&&(e?(u.$$parse(n),u.$$state=i):(o&&d(t,r,i===u.$$state?null:u.$$state),h(n,i)))})),u.$$replace=!1}),u;function h(t,e){a.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}}]}function An(){var n=!0,i=this;this.debugEnabled=function(t){return Y(t)?(n=t,this):n},this.$get=["$window",function(r){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){n&&t.apply(i,arguments)})};var t;function e(t){var e=r.console||{},i=e[t]||e.log||at,n=!1;try{n=!!i.apply}catch(t){}return n?function(){var n=[];return ot(arguments,function(t){var e;n.push(((e=t)instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),i.apply(e,n)}:function(t,e){i(t,null==e?"":e)}}}]}ot([wn,yn,mn],function(e){e.prototype=Object.create(bn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==mn||!this.$$html5)throw cn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=P(t)?null:t,this}});var En=w("$parse");function kn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw En("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Tn(t,e){if(t){if(t.constructor===t)throw En("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw En("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw En("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw En("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}var On=Function.prototype.call,_n=Function.prototype.apply,Pn=Function.prototype.bind;var Mn=Et();ot({null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,Mn[e]=t}),Mn.this=function(t){return t},Mn.this.sharedGetter=!0;var Dn=R(Et(),{"+":function(t,e,n,i){return n=n(t,e),i=i(t,e),Y(n)?Y(i)?n+i:n:Y(i)?i:it},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(Y(n)?n:0)-(Y(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"===":function(t,e,n,i){return n(t,e)===i(t,e)},"!==":function(t,e,n,i){return n(t,e)!==i(t,e)},"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),In={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Nn=function(t){this.options=t};function Rn(t){return t.constant}Nn.prototype={constructor:Nn,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=Dn[e],o=Dn[n],a=Dn[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=Y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw En("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=N(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=In[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var jn=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};function Vn(t,e,n,i,r){Tn(t,r),Tn(e,r);for(var o,a=n.split("."),s=0;1<a.length;s++){o=kn(a.shift(),r);var u=0===s&&e&&e[o]||t[o];u||(u={},t[o]=u),t=Tn(u,r)}return Tn(t[o=kn(a.shift(),r)],r),t[o]=i}jn.ZERO=R(function(){return 0},{sharedGetter:!0,constant:!0}),jn.prototype={constructor:jn,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t,e,n;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in Mn?t=Mn[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw En("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw En("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},consume:function(t){if(0===this.tokens.length)throw En("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,n){var i=Dn[t];return R(function(t,e){return i(t,e,n)},{constant:n.constant,inputs:[n]})},binaryFn:function(n,t,i,e){var r=Dn[t];return R(function(t,e){return r(t,e,n,i)},{constant:n.constant&&i.constant,inputs:!e&&[n,i]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return function(i,t,r){var o=t.expensiveChecks,e=o?Un:Fn,n=e[i];if(n)return n;var a=i.split("."),s=a.length;if(t.csp)n=s<6?Ln(a[0],a[1],a[2],a[3],a[4],r,o):function(t,e){for(var n,i=0;n=Ln(a[i++],a[i++],a[i++],a[i++],a[i++],r,o)(t,e),e=it,t=n,i<s;);return n};else{var u="";o&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=o;ot(a,function(t,e){kn(t,r);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(o||qn(t))&&(n="eso("+n+", fe)",l=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;";var c=new Function("s","l","eso","fe",u);c.toString=y(u),l&&(f=c,d=r,c=function(t,e){return f(t,e,Tn,d)}),n=c}var f,d;return n.sharedGetter=!0,n.assign=function(t,e,n){return Vn(t,n,i,e,i)},e[i]=n}(t,this.options,this.text)},constant:function(){var t=this.consume().value;return R(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var o=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&o.push(this.filterChain()),!this.expect(";"))return 1===o.length?o[0]:function(t,e){for(var n,i=0,r=o.length;i<r;i++)n=o[i](t,e);return n}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},filter:function(r){var o,a,s=this.$filter(this.consume().text);if(this.peek(":"))for(o=[],a=[];this.expect(":");)o.push(this.expression());var t=[r].concat(o||[]);return R(function(t,e){var n=r(t,e);if(a){a[0]=n;for(var i=o.length;i--;)a[i+1]=o[i](t,e);return s.apply(it,a)}return s(n)},{constant:!s.$stateful&&t.every(Rn),inputs:!s.$stateful&&t})},expression:function(){return this.assignment()},assignment:function(){var n,t,i=this.ternary();return(t=this.expect("="))?(i.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),n=this.ternary(),R(function(t,e){return i.assign(t,n(t,e),e)},{inputs:[i,n]})):i},ternary:function(){var n,i=this.logicalOR();if(this.expect("?")&&(n=this.assignment(),this.consume(":"))){var r=this.assignment();return R(function(t,e){return i(t,e)?n(t,e):r(t,e)},{constant:i.constant&&n.constant&&r.constant})}return i},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(jn.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(r){var o=this.identifier();return R(function(t,e,n){var i=n||r(t,e);return null==i?it:o(i)},{assign:function(t,e,n){var i=r(t,n);return i||r.assign(t,i={},n),o.assign(i,e)}})},objectIndex:function(o){var a=this.text,s=this.expression();return this.consume("]"),R(function(t,e){var n=o(t,e),i=s(t,e);return kn(i,a),n?Tn(n[i],a):it},{assign:function(t,e,n){var i=kn(s(t,n),a),r=Tn(o(t,n),a);return r||o.assign(t,r={},n),r[i]=e}})},functionCall:function(o,a){var s=[];if(")"!==this.peekToken().text)for(;s.push(this.expression()),this.expect(","););this.consume(")");var u=this.text,l=s.length?[]:null;return function(t,e){var n=a?a(t,e):Y(a)?it:t,i=o(t,e,n)||at;if(l)for(var r=s.length;r--;)l[r]=Tn(s[r](t,e),u);return Tn(n,u),function(t,e){if(t){if(t.constructor===t)throw En("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===On||t===_n||t===Pn)throw En("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}(i,u),Tn(i.apply?i.apply(n,l):i(l[0],l[1],l[2],l[3],l[4]),u)}},arrayDeclaration:function(){var o=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;o.push(this.expression())}while(this.expect(","));return this.consume("]"),R(function(t,e){for(var n=[],i=0,r=o.length;i<r;i++)n.push(o[i](t,e));return n},{literal:!0,constant:o.every(Rn),inputs:o})},object:function(){var o=[],a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var t=this.consume();t.constant?o.push(t.value):t.identifier?o.push(t.text):this.throwError("invalid key",t),this.consume(":"),a.push(this.expression())}while(this.expect(","));return this.consume("}"),R(function(t,e){for(var n={},i=0,r=a.length;i<r;i++)n[o[i]]=a[i](t,e);return n},{literal:!0,constant:a.every(Rn),inputs:a})}};var Fn=Et(),Un=Et();function qn(t){return"constructor"==t}function Ln(i,r,o,a,s,e,t){kn(i,e),kn(r,e),kn(o,e),kn(a,e),kn(s,e);var n=function(t){return Tn(t,e)},u=t||qn(i)?n:m,l=t||qn(r)?n:m,c=t||qn(o)?n:m,f=t||qn(a)?n:m,d=t||qn(s)?n:m;return function(t,e){var n=e&&e.hasOwnProperty(i)?e:t;return null==n?n:(n=u(n[i]),r?null==n?it:(n=l(n[r]),o?null==n?it:(n=c(n[o]),a?null==n?it:(n=f(n[a]),s?null==n?it:n=d(n[s]):n):n):n):n)}}var Bn=Object.prototype.valueOf;function Hn(t){return ct(t.valueOf)?t.valueOf():Bn.call(t)}function Wn(){var y=Et(),w=Et();this.$get=["$filter","$sniffer",function(f,t){var d={csp:t.csp,expensiveChecks:!1},p={csp:t.csp,expensiveChecks:!0};return function(t,e,n){var i,r,o,a,s;switch(typeof t){case"string":o=t=t.trim();var u=n?w:y;if(!(i=u[o])){":"===t.charAt(0)&&":"===t.charAt(1)&&(r=!0,t=t.substring(2));var l=n?p:d,c=new Nn(l);(i=new jn(c,f,l).parse(t)).constant?i.$$watchDelegate=v:r?((s=a=i).sharedGetter&&((s=function(t,e){return a(t,e)}).literal=a.literal,s.constant=a.constant,s.assign=a.assign),(i=s).$$watchDelegate=i.literal?g:$):i.inputs&&(i.$$watchDelegate=h),u[o]=i}return m(i,e);case"function":return m(t,e);default:return m(at,e)}};function c(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Hn(t)))&&(t===e||t!=t&&e!=e)}function h(t,e,n,o){var a,s=o.$$inputs||(o.$$inputs=function t(e,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];o.constant||(o.inputs?t(o.inputs,n):-1===n.indexOf(o)&&n.push(o))}return n}(o.inputs,[]));if(1===s.length){var i=c;return s=s[0],t.$watch(function(t){var e=s(t);return c(e,i)||(a=o(t),i=e&&Hn(e)),a},e,n)}for(var u=[],r=0,l=s.length;r<l;r++)u[r]=c;return t.$watch(function(t){for(var e=!1,n=0,i=s.length;n<i;n++){var r=s[n](t);(e||(e=!c(r,u[n])))&&(u[n]=r&&Hn(r))}return e&&(a=o(t)),a},e,n)}function $(t,i,e,n){var r,o;return r=t.$watch(function(t){return n(t)},function(t,e,n){o=t,ct(i)&&i.apply(this,arguments),Y(t)&&n.$$postDigest(function(){Y(o)&&r()})},e)}function g(t,i,e,n){var r,o;return r=t.$watch(function(t){return n(t)},function(t,e,n){o=t,ct(i)&&i.call(this,t,e,n),a(t)&&n.$$postDigest(function(){a(o)&&r()})},e);function a(t){var e=!0;return ot(t,function(t){Y(t)||(e=!1)}),e}}function v(t,i,e,n){var r;return r=t.$watch(function(t){return n(t)},function(t,e,n){ct(i)&&i.apply(this,arguments),r()},e)}function m(r,o){if(!o)return r;var t=r.$$watchDelegate,e=t!==g&&t!==$?function(t,e){var n=r(t,e);return o(n,t,e)}:function(t,e){var n=r(t,e),i=o(n,t,e);return Y(n)?i:n};return r.$$watchDelegate&&r.$$watchDelegate!==h?e.$$watchDelegate=r.$$watchDelegate:o.$stateful||(e.$$watchDelegate=h,e.inputs=[r]),e}}]}function Gn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Yn(function(t){e.$evalAsync(t)},t)}]}function zn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Yn(function(t){e.defer(t)},t)}]}function Yn(e,a){var i=w("$q",TypeError);function t(){this.$$state={status:0}}function n(e,n){return function(t){n.call(e,t)}}function r(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){!function(t){var e,n,i;i=t.pending,t.processScheduled=!1,t.pending=it;for(var r=0,o=i.length;r<o;++r){n=i[r][0],e=i[r][t.status];try{ct(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(t){n.reject(t),a(t)}}}(t)}))}function o(){this.promise=new t,this.resolve=n(this,this.resolve),this.reject=n(this,this.reject),this.notify=n(this,this.notify)}t.prototype={then:function(t,e,n){var i=new o;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&r(this.$$state),i.promise},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return u(t,!0,e)},function(t){return u(t,!1,e)},t)}},o.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(i("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var e,n;n=function(n,t,e){var i=!1;function r(e){return function(t){i||(i=!0,e.call(n,t))}}return[r(t),r(e)]}(this,this.$$resolve,this.$$reject);try{(st(t)||ct(t))&&(e=t&&t.then),ct(e)?(this.promise.$$state.status=-1,e.call(t,n[0],n[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,r(this.promise.$$state))}catch(t){n[1](t),a(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,r(this.promise.$$state)},notify:function(r){var o=this.promise.$$state.pending;this.promise.$$state.status<=0&&o&&o.length&&e(function(){for(var t,e,n=0,i=o.length;n<i;n++){e=o[n][0],t=o[n][3];try{e.notify(ct(t)?t(r):r)}catch(t){a(t)}}})}};var s=function(t,e){var n=new o;return e?n.resolve(t):n.reject(t),n.promise},u=function(t,e,n){var i=null;try{ct(n)&&(i=n())}catch(t){return s(t,!1)}return k(i)?i.then(function(){return s(t,e)},function(t){return s(t,!1)}):s(t,e)},l=function(t,e,n,i){var r=new o;return r.resolve(t),r.promise.then(e,n,i)};var c=function t(e){if(!ct(e))throw i("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof t))return new t(e);var n=new o;return e(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};return c.defer=function(){return new o},c.reject=function(t){var e=new o;return e.reject(t),e.promise},c.when=l,c.all=function(t){var n=new o,i=0,r=lt(t)?[]:{};return ot(t,function(t,e){i++,l(t).then(function(t){r.hasOwnProperty(e)||(r[e]=t,--i||n.resolve(r))},function(t){r.hasOwnProperty(e)||n.reject(t)})}),0===i&&n.resolve(r),n.promise},c}function Jn(){this.$get=["$window","$timeout",function(t,n){var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!i,o=e?function(t){var e=i(t);return function(){r(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return o.supported=e,o}]}function Kn(){var x=10,C=w("$rootScope"),S=null,A=null;this.digestTtl=function(t){return arguments.length&&(x=t),x},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(t,d,h,p){function i(){this.$id=r(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}i.prototype={constructor:i,$new:function(t,e){var n;return e=e||this,t?(n=new i).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=r(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",function(){n.$$destroyed=!0}),n},$watch:function(t,e,n){var i=h(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i);var r=this.$$watchers,o={fn:e,last:w,get:i,exp:t,eq:!!n};return S=null,ct(e)||(o.fn=at),r||(r=this.$$watchers=[]),r.unshift(o),function(){ht(r,o),S=null}},$watchGroup:function(t,i){var r=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,e=!0;if(!t.length){var n=!0;return s.$evalAsync(function(){n&&i(o,o,s)}),function(){n=!1}}if(1===t.length)return this.$watch(t[0],function(t,e,n){o[0]=t,r[0]=e,i(o,t===e?o:r,n)});function l(){u=!1,e?(e=!1,i(o,o,s)):i(o,r,s)}return ot(t,function(t,n){var e=s.$watch(t,function(t,e){o[n]=t,r[n]=e,u||(u=!0,s.$evalAsync(l))});a.push(e)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(t,n){p.$stateful=!0;var a,s,i,r=this,o=1<n.length,u=0,e=h(t,p),l=[],c={},f=!0,d=0;function p(t){var e,n,i,r;if(!P(a=t)){if(st(a))if(I(a)){s!==l&&(d=(s=l).length=0,u++),e=a.length,d!==e&&(u++,s.length=d=e);for(var o=0;o<e;o++)r=s[o],i=a[o],r!=r&&i!=i||r===i||(u++,s[o]=i)}else{for(n in s!==c&&(s=c={},d=0,u++),e=0,a)a.hasOwnProperty(n)&&(e++,i=a[n],r=s[n],n in s?r!=r&&i!=i||r===i||(u++,s[n]=i):(d++,s[n]=i,u++));if(e<d)for(n in u++,s)a.hasOwnProperty(n)||(d--,delete s[n])}else s!==a&&(s=a,u++);return u}}return this.$watch(e,function(){if(f?(f=!1,n(a,a,r)):n(a,i,r),o)if(st(a))if(I(a)){i=new Array(a.length);for(var t=0;t<a.length;t++)i[t]=a[t]}else for(var e in i={},a)E.call(a,e)&&(i[e]=a[e]);else i=a})},$digest:function(){var t,e,n,i,r,o,a,s,u,l,c=x,f=[];m("$digest"),p.$$checkUrlChange(),this===$&&null!==A&&(p.defer.cancel(A),b()),S=null;do{for(o=!1,s=this;g.length;){try{(l=g.shift()).scope.$eval(l.expression,l.locals)}catch(t){d(t)}S=null}t:do{if(i=s.$$watchers)for(r=i.length;r--;)try{if(t=i[r])if((e=t.get(s))===(n=t.last)||(t.eq?$t(e,n):"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n))){if(t===S){o=!1;break t}}else o=!0,(S=t).last=t.eq?_(e,null):e,t.fn(e,n===w?e:n,s),c<5&&(f[u=4-c]||(f[u]=[]),f[u].push({msg:ct(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){d(t)}if(!(a=s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(a=s.$$nextSibling);)s=s.$parent}while(s=a);if((o||g.length)&&!c--)throw y(),C("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",x,f)}while(o||g.length);for(y();v.length;)try{v.shift()()}catch(t){d(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$){for(var e in this.$$listenerCount)o(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=at,this.$on=this.$watch=this.$watchGroup=function(){return at},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return h(t)(this,e)},$evalAsync:function(t,e){$.$$phase||g.length||p.defer(function(){g.length&&$.$digest()}),g.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){v.push(t)},$apply:function(t){try{return m("$apply"),this.$eval(t)}catch(t){d(t)}finally{y();try{$.$digest()}catch(t){throw d(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),null===A&&(A=p.defer(function(){$.$apply(b)}))},$on:function(e,n){var i=this.$$listeners[e];i||(this.$$listeners[e]=i=[]),i.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var r=this;return function(){var t=i.indexOf(n);-1!==t&&(i[t]=null,o(r,1,e))}},$emit:function(t,e){var n,i,r,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=j([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,l)}catch(t){d(t)}else n.splice(i,1),i--,r--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=n,r=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,u,l=j([o],arguments,1);i=r;){for(s=0,u=(a=(o.currentScope=i).$$listeners[t]||[]).length;s<u;s++)if(a[s])try{a[s].apply(null,l)}catch(t){d(t)}else a.splice(s,1),s--,u--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var $=new i,g=$.$$asyncQueue=[],v=$.$$postDigestQueue=[],n=$.$$applyAsyncQueue=[];return $;function m(t){if($.$$phase)throw C("inprog","{0} already in progress",$.$$phase);$.$$phase=t}function y(){$.$$phase=null}function o(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function w(){}function b(){for(;n.length;)try{n.shift()()}catch(t){d(t)}A=null}}]}function Xn(){var r=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return Y(t)?(r=t,this):r},this.imgSrcSanitizationWhitelist=function(t){return Y(t)?(o=t,this):o},this.$get=function(){return function(t,e){var n,i=e?o:r;return""===(n=li(t).href)||n.match(i)?t:"unsafe:"+n}}}var Zn=w("$sce"),Qn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function ti(t){var e=[];return Y(t)&&ot(t,function(t){e.push(function(t){if("self"===t)return t;if(ut(t)){if(-1<t.indexOf("***"))throw Zn("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=T(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(d(t))return new RegExp("^"+t.source+"$");throw Zn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function ei(){this.SCE_CONTEXTS=Qn;var a=["self"],s=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(a=ti(t)),a},this.resourceUrlBlacklist=function(t){return arguments.length&&(s=ti(t)),s},this.$get=["$injector",function(t){var i=function(t){throw Zn("unsafe","Attempting to use an unsafe value in a safe context.")};function o(t,e){return"self"===t?ci(e):!!t.exec(e.href)}function e(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(i=t.get("$sanitize"));var n=e(),r={};return r[Qn.HTML]=e(n),r[Qn.CSS]=e(n),r[Qn.URL]=e(n),r[Qn.JS]=e(n),r[Qn.RESOURCE_URL]=e(r[Qn.URL]),{trustAs:function(t,e){var n=r.hasOwnProperty(t)?r[t]:null;if(!n)throw Zn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===it||""===e)return e;if("string"!=typeof e)throw Zn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||e===it||""===e)return e;var n=r.hasOwnProperty(t)?r[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Qn.RESOURCE_URL){if(function(t){var e,n,i=li(t.toString()),r=!1;for(e=0,n=a.length;e<n;e++)if(o(a[e],i)){r=!0;break}if(r)for(e=0,n=s.length;e<n;e++)if(o(s[e],i)){r=!1;break}return r}(e))return e;throw Zn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Qn.HTML)return i(e);throw Zn("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function ni(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(i,t){if(e&&G<8)throw Zn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=M(Qn);r.isEnabled=function(){return e},r.trustAs=t.trustAs,r.getTrusted=t.getTrusted,r.valueOf=t.valueOf,e||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(e,t){var n=i(t);return n.literal&&n.constant?n:i(t,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return ot(Qn,function(e,t){var n=N(t);r[Lt("parse_as_"+n)]=function(t){return o(e,t)},r[Lt("get_trusted_"+n)]=function(t){return a(e,t)},r[Lt("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function ii(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=p((/android (\d+)/.exec(N((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var d in l)if(i=u.exec(d)){n=(n=i[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||c&&f||(c=ut(s.body.style.webkitTransition),f=ut(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||o<4||a),hasEvent:function(t){if("input"===t&&G<=11)return!1;if(P(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:D(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}Ne=w("$compile");function ri(){this.$get=["$templateCache","$http","$q",function(r,o,a){function s(e,n){s.totalPendingRequests++;var t=o.defaults&&o.defaults.transformResponse;lt(t)?t=t.filter(function(t){return t!==Je}):t===Je&&(t=null);var i={cache:r,transformResponse:t};return o.get(e,i).finally(function(){s.totalPendingRequests--}).then(function(t){return t.data},function(t){if(n)return a.reject(t);throw Ne("tpload","Failed to load template: {0}",e)})}return s.totalPendingRequests=0,s}]}function oi(){this.$get=["$rootScope","$browser","$location",function(e,n,i){var t={findBindings:function(t,n,i){var e=t.getElementsByClassName("ng-binding"),r=[];return ot(e,function(e){var t=b.element(e).data("$binding");t&&ot(t,function(t){i?new RegExp("(^|\\s)"+T(n)+"(\\s|\\||$)").test(t)&&r.push(e):-1!=t.indexOf(n)&&r.push(e)})}),r},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return i.url()},setLocation:function(t){t!==i.url()&&(i.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}};return t}]}function ai(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,u,l,c,f){var d={};function t(t,e,n){var i,r=Y(n)&&!n,o=(r?c:l).defer(),a=o.promise;return i=u.defer(function(){try{o.resolve(t())}catch(t){o.reject(t),f(t)}finally{delete d[a.$$timeoutId]}r||s.$apply()},e),a.$$timeoutId=i,d[i]=o,a}return t.cancel=function(t){return!!(t&&t.$$timeoutId in d)&&(d[t.$$timeoutId].reject("canceled"),delete d[t.$$timeoutId],u.defer.cancel(t.$$timeoutId))},t}]}var si=nt.createElement("a"),ui=li(l.location.href);function li(t){var e=t;return G&&(si.setAttribute("href",e),e=si.href),si.setAttribute("href",e),{href:si.href,protocol:si.protocol?si.protocol.replace(/:$/,""):"",host:si.host,search:si.search?si.search.replace(/^\?/,""):"",hash:si.hash?si.hash.replace(/^#/,""):"",hostname:si.hostname,port:si.port,pathname:"/"===si.pathname.charAt(0)?si.pathname:"/"+si.pathname}}function ci(t){var e=ut(t)?li(t):t;return e.protocol===ui.protocol&&e.host===ui.host}function fi(){this.$get=y(l)}function di(i){var r="Filter";function o(t,e){if(st(t)){var n={};return ot(t,function(t,e){n[e]=o(e,t)}),n}return i.factory(t+r,e)}this.register=o,this.$get=["$injector",function(e){return function(t){return e.get(t+r)}}],o("currency",$i),o("date",ki),o("filter",pi),o("json",Ti),o("limitTo",Pi),o("lowercase",Oi),o("number",gi),o("orderBy",Mi),o("uppercase",_i)}function pi(){return function(t,e,n){if(!lt(t))return t;var i,r;switch(typeof e){case"function":i=e;break;case"boolean":case"number":case"string":r=!0;case"object":i=function(e,n,i){var r=st(e)&&"$"in e;!0===n?n=$t:ct(n)||(n=function(t,e){return!st(t)&&!st(e)&&(t=N(""+t),e=N(""+e),-1!==t.indexOf(e))});return function(t){return r&&!st(t)?hi(t,e.$,n,!1):hi(t,e,n,i)}}(e,n,r);break;default:return t}return t.filter(i)}}function hi(t,e,n,i,r){var o=typeof t,a=typeof e;if("string"===a&&"!"===e.charAt(0))return!hi(t,e.substring(1),n,i);if(lt(t))return t.some(function(t){return hi(t,e,n,i)});switch(o){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&hi(t[s],e,n,!0))return!0;return!r&&hi(t,e,n,!1)}if("object"!==a)return n(t,e);for(s in e){var u=e[s];if(!ct(u)){var l="$"===s;if(!hi(l?t:t[s],u,n,l,l))return!1}}return!0;case"function":return!1;default:return n(t,e)}}function $i(t){var i=t.NUMBER_FORMATS;return function(t,e,n){return P(e)&&(e=i.CURRENCY_SYM),P(n)&&(n=i.PATTERNS[1].maxFrac),null==t?t:mi(t,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(/\u00A4/g,e)}}function gi(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:mi(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}di.$inject=["$provide"],$i.$inject=["$locale"],gi.$inject=["$locale"];var vi=".";function mi(t,e,n,i,r){if(!isFinite(t)||st(t))return"";var o=t<0,a=(t=Math.abs(t))+"",s="",u=[],l=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>r+1?t=0:(s=a,l=!0)}if(l)0<r&&t<1&&(s=t.toFixed(r),t=parseFloat(s));else{var f=(a.split(vi)[1]||"").length;P(r)&&(r=Math.min(Math.max(e.minFrac,f),e.maxFrac));var d=(""+(t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r))).split(vi),p=d[0];d=d[1]||"";var h,$=0,g=e.lgSize,v=e.gSize;if(p.length>=g+v)for($=p.length-g,h=0;h<$;h++)($-h)%v==0&&0!==h&&(s+=n),s+=p.charAt(h);for(h=$;h<p.length;h++)(p.length-h)%g==0&&0!==h&&(s+=n),s+=p.charAt(h);for(;d.length<r;)d+="0";r&&"0"!==r&&(s+=i+d.substr(0,r))}return 0===t&&(o=!1),u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),u.join("")}function yi(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function wi(n,i,r,o){return r=r||0,function(t){var e=t["get"+n]();return(0<r||-r<e)&&(e+=r),0===e&&-12==r&&(e=12),yi(e,i,o)}}function bi(i,r){return function(t,e){var n=t["get"+i]();return e[u(r?"SHORT"+i:i)][n]}}function xi(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Ci(r){return function(t){var e,n=xi(t.getFullYear()),i=+(e=t,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())))-+n;return yi(1+Math.round(i/6048e5),r)}}var Si={yyyy:wi("FullYear",4),yy:wi("FullYear",2,0,!0),y:wi("FullYear",1),MMMM:bi("Month"),MMM:bi("Month",!0),MM:wi("Month",2,1),M:wi("Month",1,1),dd:wi("Date",2),d:wi("Date",1),HH:wi("Hours",2),H:wi("Hours",1),hh:wi("Hours",2,-12),h:wi("Hours",1,-12),mm:wi("Minutes",2),m:wi("Minutes",1),ss:wi("Seconds",2),s:wi("Seconds",1),sss:wi("Milliseconds",3),EEEE:bi("Day"),EEE:bi("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){var e=-1*t.getTimezoneOffset(),n=0<=e?"+":"";return n+=yi(Math[0<e?"floor":"ceil"](e/60),2)+yi(Math.abs(e%60),2)},ww:Ci(2),w:Ci(1)},Ai=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Ei=/^\-?\d+$/;function ki(s){var f=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var i,r,o="",a=[];if(t=t||"mediumDate",t=s.DATETIME_FORMATS[t]||t,ut(e)&&(e=Ei.test(e)?p(e):function(t){var e;if(e=t.match(f)){var n=new Date(0),i=0,r=0,o=e[8]?n.setUTCFullYear:n.setFullYear,a=e[8]?n.setUTCHours:n.setHours;e[9]&&(i=p(e[9]+e[10]),r=p(e[9]+e[11])),o.call(n,p(e[1]),p(e[2])-1,p(e[3]));var s=p(e[4]||0)-i,u=p(e[5]||0)-r,l=p(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(n,s,u,l,c),n}return t}(e)),x(e)&&(e=new Date(e)),!C(e))return e;for(;t;)t=(r=Ai.exec(t))?(a=j(a,r,1)).pop():(a.push(t),null);return n&&"UTC"===n&&(e=new Date(e.getTime())).setMinutes(e.getMinutes()+e.getTimezoneOffset()),ot(a,function(t){i=Si[t],o+=i?i(e,s.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Ti(){return function(t,e){return P(e)&&(e=2),U(t,e)}}ki.$inject=["$locale"];var Oi=y(N),_i=y(u);function Pi(){return function(t,e){return x(t)&&(t=t.toString()),lt(t)||ut(t)?(e=Math.abs(Number(e))===1/0?Number(e):p(e))?0<e?t.slice(0,e):t.slice(e):ut(t)?"":[]:t}}function Mi(u){return function(t,r,e){return I(t)?(0===(r=lt(r)?r:[r]).length&&(r=["+"]),r=r.map(function(t){var e=!1,n=t||m;if(ut(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(e="-"==t.charAt(0),t=t.substring(1)),""===t)return o(s,e);if((n=u(t)).constant){var i=n();return o(function(t,e){return s(t[i],e[i])},e)}}return o(function(t,e){return s(n(t),n(e))},e)}),i.call(t).sort(o(function(t,e){for(var n=0;n<r.length;n++){var i=r[n](t,e);if(0!==i)return i}return 0},e))):t;function o(n,t){return t?function(t,e){return n(e,t)}:n}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function a(t){return null===t?"null":"function"==typeof t.valueOf&&n(t=t.valueOf())?t:"function"==typeof t.toString&&n(t=t.toString())?t:""}function s(t,e){var n=typeof t,i=typeof e;return n===i&&"object"===n&&(t=a(t),e=a(e)),n===i?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<i?-1:1}}}function Di(t){return ct(t)&&(t={link:t}),t.restrict=t.restrict||"AC",y(t)}Mi.$inject=["$parse"];var Ii=y({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref&&!e.name)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===s.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Ni={};ot(pe,function(t,i){if("multiple"!=t){var r=Ve("ng-"+i);Ni[r]=function(){return{restrict:"A",priority:100,link:function(t,e,n){t.$watch(n[r],function(t){n.$set(i,!!t)})}}}}}),ot($e,function(t,r){Ni[r]=function(){return{priority:100,link:function(t,e,n){if("ngPattern"===r&&"/"==n.ngPattern.charAt(0)){var i=n.ngPattern.match(o);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(n[r],function(t){n.$set(r,t)})}}}}),ot(["src","srcset","href"],function(o){var a=Ve("ng-"+o);Ni[a]=function(){return{priority:99,link:function(t,e,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===s.call(e.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(a,function(t){t?(n.$set(r,t),G&&i&&e.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}});var Ri={$addControl:at,$$renameControl:function(t,e){t.$name=e},$removeControl:at,$setValidity:at,$setDirty:at,$setPristine:at,$setSubmitted:at},ji="ng-submitted";function Vi(t,e,n,i,r){var o=this,a=[],s=o.$$parentForm=t.parent().controller("form")||Ri;o.$error={},o.$$success={},o.$pending=it,o.$name=r(e.name||e.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,s.$addControl(o),o.$rollbackViewValue=function(){ot(a,function(t){t.$rollbackViewValue()})},o.$commitViewValue=function(){ot(a,function(t){t.$commitViewValue()})},o.$addControl=function(t){Ct(t.$name,"input"),a.push(t),t.$name&&(o[t.$name]=t)},o.$$renameControl=function(t,e){var n=t.$name;o[n]===t&&delete o[n],(o[e]=t).$name=e},o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name],ot(o.$pending,function(t,e){o.$setValidity(e,null,n)}),ot(o.$error,function(t,e){o.$setValidity(e,null,n)}),ot(o.$$success,function(t,e){o.$setValidity(e,null,n)}),ht(a,n)},Rr({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(ht(i,n),0===i.length&&delete t[e])},parentForm:s,$animate:i}),o.$setDirty=function(){i.removeClass(t,Er),i.addClass(t,kr),o.$dirty=!0,o.$pristine=!1,s.$setDirty()},o.$setPristine=function(){i.setClass(t,Er,kr+" "+ji),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,ot(a,function(t){t.$setPristine()})},o.$setUntouched=function(){ot(a,function(t){t.$setUntouched()})},o.$setSubmitted=function(){i.addClass(t,ji),o.$submitted=!0,s.$setSubmitted()}}Vi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fi=function(t){return["$timeout",function(s){return{name:"form",restrict:t?"EAC":"E",controller:Vi,compile:function(t){return t.addClass(Er).addClass(Sr),{pre:function(e,t,n,i){if(!("action"in n)){var r=function(t){e.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),t.preventDefault()};Rt(t[0],"submit",r),t.on("$destroy",function(){s(function(){jt(t[0],"submit",r)},0,!1)})}var o=i.$$parentForm,a=i.$name;a&&(Vn(e,null,a,i,a),n.$observe(n.name?"name":"ngForm",function(t){a!==t&&(Vn(e,null,a,it,a),Vn(e,null,a=t,i,a),o.$$renameControl(i,a))})),t.on("$destroy",function(){o.$removeControl(i),a&&Vn(e,null,a,it,a),R(i,Ri)})}}}}}]},Ui=Fi(),qi=Fi(!0),Li=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Bi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Hi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Wi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Gi=/^(\d{4})-(\d{2})-(\d{2})$/,zi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yi=/^(\d{4})-W(\d\d)$/,Ji=/^(\d{4})-(\d\d)$/,Ki=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xi={text:function(t,e,n,i,r,o){Qi(t,e,n,i,r,o),Zi(i)},date:er("date",Gi,tr(Gi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":er("datetimelocal",zi,tr(zi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:er("time",Ki,tr(Ki,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:er("week",Yi,function(t,e){if(C(t))return t;if(ut(t)){Yi.lastIndex=0;var n=Yi.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,u=0,l=xi(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,o,a,s,u)}}return NaN},"yyyy-Www"),month:er("month",Ji,tr(Ji,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,i,r,o){if(nr(t,e,n,i),Qi(t,e,n,i,r,o),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:Wi.test(t)?parseFloat(t):it}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!x(t))throw Pr("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),n.min||n.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||P(a)||a<=t},n.$observe("min",function(t){Y(t)&&!x(t)&&(t=parseFloat(t,10)),a=x(t)&&!isNaN(t)?t:it,i.$validate()})}if(n.max||n.ngMax){var s;i.$validators.max=function(t){return i.$isEmpty(t)||P(s)||t<=s},n.$observe("max",function(t){Y(t)&&!x(t)&&(t=parseFloat(t,10)),s=x(t)&&!isNaN(t)?t:it,i.$validate()})}},url:function(t,e,n,i,r,o){Qi(t,e,n,i,r,o),Zi(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Bi.test(n)}},email:function(t,e,n,i,r,o){Qi(t,e,n,i,r,o),Zi(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Hi.test(n)}},radio:function(t,e,n,i){P(n.name)&&e.attr("name",r());e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,a,s){var u=ir(s,t,"ngTrueValue",n.ngTrueValue,!0),l=ir(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return $t(t,u)}),i.$parsers.push(function(t){return t?u:l})},hidden:at,button:at,submit:at,reset:at,file:at};function Zi(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Qi(t,i,r,o,e,a){var s=N(i[0].type);if(!e.android){var u=!1;i.on("compositionstart",function(t){u=!0}),i.on("compositionend",function(){u=!1,l()})}var l=function(t){if(c&&(a.defer.cancel(c),c=null),!u){var e=i.val(),n=t&&t.type;"password"===s||r.ngTrim&&"false"===r.ngTrim||(e=dt(e)),(o.$viewValue!==e||""===e&&o.$$hasNativeValidators)&&o.$setViewValue(e,n)}};if(e.hasEvent("input"))i.on("input",l);else{var c,n=function(t,e,n){c||(c=a.defer(function(){c=null,e&&e.value===n||l(t)}))};i.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||n(t,this,this.value)}),e.hasEvent("paste")&&i.on("paste cut",n)}i.on("change",l),o.$render=function(){i.val(o.$isEmpty(o.$viewValue)?"":o.$viewValue)}}function tr(r,o){return function(t,e){var n,i;if(C(t))return t;if(ut(t)){if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),Li.test(t))return new Date(t);if(r.lastIndex=0,n=r.exec(t))return n.shift(),i=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ot(n,function(t,e){e<o.length&&(i[o[e]]=+t)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function er(p,h,$,g){return function(t,e,n,i,r,o,a){nr(t,e,n,i),Qi(0,e,n,i,r,o);var s,u,l,c=i&&i.$options&&i.$options.timezone;(i.$$parserName=p,i.$parsers.push(function(t){if(i.$isEmpty(t))return null;if(h.test(t)){var e=$(t,s);return"UTC"===c&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return it}),i.$formatters.push(function(t){if(t&&!C(t))throw Pr("datefmt","Expected `{0}` to be a date",t);if(f(t)){if((s=t)&&"UTC"===c){var e=6e4*s.getTimezoneOffset();s=new Date(s.getTime()+e)}return a("date")(t,g,c)}return s=null,""}),Y(n.min)||n.ngMin)&&(i.$validators.min=function(t){return!f(t)||P(u)||$(t)>=u},n.$observe("min",function(t){u=d(t),i.$validate()}));(Y(n.max)||n.ngMax)&&(i.$validators.max=function(t){return!f(t)||P(l)||$(t)<=l},n.$observe("max",function(t){l=d(t),i.$validate()}));function f(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function d(t){return Y(t)?C(t)?t:$(t):it}}}function nr(t,n,e,i){var r=n[0];(i.$$hasNativeValidators=st(r.validity))&&i.$parsers.push(function(t){var e=n.prop(a)||{};return e.badInput&&!e.typeMismatch?it:t})}function ir(t,e,n,i,r){var o;if(Y(i)){if(!(o=t(i)).constant)throw w("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}var rr=["$browser","$sniffer","$filter","$parse",function(r,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,i){i[0]&&(Xi[N(n.type)]||Xi.text)(t,e,n,i[0],o,r,a,s)}}}}],or=/^(true|false|\d+)$/,ar=function(){return{restrict:"A",priority:100,compile:function(t,e){return or.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},sr=["$compile",function(i){return{restrict:"AC",compile:function(t){return i.$$addBindingClass(t),function(t,e,n){i.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=t===it?"":t})}}}}],ur=["$interpolate","$compile",function(r,o){return{compile:function(t){return o.$$addBindingClass(t),function(t,e,n){var i=r(e.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(e,i.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=t===it?"":t})}}}}],lr=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(t,e){var i=n(e.ngBindHtml),r=n(e.ngBindHtml,function(t){return(t||"").toString()});return a.$$addBindingClass(t),function(t,e,n){a.$$addBindingInfo(e,n.ngBindHtml),t.$watch(r,function(){e.html(o.getTrustedHtml(i(t))||"")})}}}}],cr=y({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function fr(a,$){return a="ngClass"+a,["$animate",function(d){return{restrict:"AC",link:function(s,u,o){var l;function c(t){var e=f(t,1);o.$addClass(e)}function f(t,e){var n=u.data("$classCounts")||{},i=[];return ot(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),u.data("$classCounts",n),i.join(" ")}function e(t){if(!0===$||s.$index%2===$){var e=h(t||[]);if(l){if(!$t(t,l)){var n=h(l);o=p(r=e,i=n),a=p(i,r),o=f(o,1),a=f(a,-1),o&&o.length&&d.addClass(u,o),a&&a.length&&d.removeClass(u,a)}}else c(e)}var i,r,o,a;l=M(t)}s.$watch(o[a],e,!0),o.$observe("class",function(t){e(s.$eval(o[a]))}),"ngClass"!==a&&s.$watch("$index",function(t,e){var n,i=1&t;if(i!==(1&e)){var r=h(s.$eval(o[a]));i===$?c(r):(n=f(r,-1),o.$removeClass(n))}})}};function p(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function h(t){if(lt(t))return t;if(ut(t))return t.split(" ");if(st(t)){var n=[];return ot(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n}return t}}]}var dr=fr("",!0),pr=fr("Odd",0),hr=fr("Even",1),$r=Di({compile:function(t,e){e.$set("ngCloak",it),t.removeClass("ng-cloak")}}),gr=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],vr={},mr={blur:!0,focus:!0};ot("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var a=Ve("ng-"+o);vr[a]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(t,e){var i=n(e[a],null,!0);return function(n,t){t.on(o,function(t){var e=function(){i(n,{$event:t})};mr[o]&&r.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});var yr=["$animate",function(u){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,i,e,r){var o,a,s;t.$watch(i.ngIf,function(t){t?a||r(function(t,e){a=e,t[t.length++]=nt.createComment(" end ngIf: "+i.ngIf+" "),o={clone:t},u.enter(t,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=At(o.clone),u.leave(s).then(function(){s=null}),o=null))})}}}],wr=["$templateRequest","$anchorScroll","$animate","$sce",function(g,v,m,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(t,e){var n=e.ngInclude||e.src,h=e.onload||"",$=e.autoscroll;return function(a,s,t,u,l){var c,e,f,d=0,p=function(){e&&(e.remove(),e=null),c&&(c.$destroy(),c=null),f&&(m.leave(f).then(function(){e=null}),e=f,f=null)};a.$watch(i.parseAsResourceUrl(n),function(i){var r=function(){!Y($)||$&&!a.$eval($)||v()},o=++d;i?(g(i,!0).then(function(t){if(o===d){var e=a.$new();u.template=t;var n=l(e,function(t){p(),m.enter(t,null,s).then(r)});f=n,(c=e).$emit("$includeContentLoaded",i),a.$eval(h)}},function(){o===d&&(p(),a.$emit("$includeContentError",i))}),a.$emit("$includeContentRequested",i)):(p(),u.template=null)})}}}}],br=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,i){if(/SVG/.test(e[0].toString()))return e.empty(),void r(Kt(i.template,nt).childNodes)(t,function(t){e.append(t)},{futureParentElement:e});e.html(i.template),r(e.contents())(t)}}}],xr=Di({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Cr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var r=e.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,a=o?dt(r):r;i.$parsers.push(function(t){if(!P(t)){var e=[];return t&&ot(t.split(a),function(t){t&&e.push(o?dt(t):t)}),e}}),i.$formatters.push(function(t){return lt(t)?t.join(r):it}),i.$isEmpty=function(t){return!t||!t.length}}}},Sr="ng-valid",Ar="ng-invalid",Er="ng-pristine",kr="ng-dirty",Tr="ng-untouched",Or="ng-touched",_r="ng-pending",Pr=new w("ngModel"),Mr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,e,r,o,s,t,u,l,c,n){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=it,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=it,this.$name=n(r.name||"",!1)(a);var f=s(r.ngModel),d=f.assign,p=f,h=d,$=null,g=this;this.$$setOptions=function(t){if((g.$options=t)&&t.getterSetter){var n=s(r.ngModel+"()"),i=s(r.ngModel+"($$$p)");p=function(t){var e=f(t);return ct(e)&&(e=n(t)),e},h=function(t,e){ct(f(t))?i(t,{$$$p:g.$modelValue}):d(t,g.$modelValue)}}else if(!f.assign)throw Pr("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,vt(o))},this.$render=at,this.$isEmpty=function(t){return P(t)||""===t||null===t||t!=t};var i=o.inheritedData("$formController")||Ri,v=0;Rr({ctrl:this,$element:o,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:i,$animate:t}),this.$setPristine=function(){g.$dirty=!1,g.$pristine=!0,t.removeClass(o,kr),t.addClass(o,Er)},this.$setDirty=function(){g.$dirty=!0,g.$pristine=!1,t.removeClass(o,Er),t.addClass(o,kr),i.$setDirty()},this.$setUntouched=function(){g.$touched=!1,g.$untouched=!0,t.setClass(o,Tr,Or)},this.$setTouched=function(){g.$touched=!0,g.$untouched=!1,t.setClass(o,Or,Tr)},this.$rollbackViewValue=function(){u.cancel($),g.$viewValue=g.$$lastCommittedViewValue,g.$render()},this.$validate=function(){if(!x(g.$modelValue)||!isNaN(g.$modelValue)){var t=g.$$lastCommittedViewValue,e=g.$$rawModelValue,n=g.$$parserName||"parse",i=!g.$error[n]&&it,r=g.$valid,o=g.$modelValue,a=g.$options&&g.$options.allowInvalid;g.$$runValidators(i,e,t,function(t){a||r===t||(g.$modelValue=t?e:it,g.$modelValue!==o&&g.$$writeModelToScope())})}},this.$$runValidators=function(t,i,r,e){var o,a,s,n=++v;(function(t){var e=g.$$parserName||"parse";if(t===it)u(e,null);else if(u(e,t),!t)return ot(g.$validators,function(t,e){u(e,null)}),ot(g.$asyncValidators,function(t,e){u(e,null)}),!1;return!0})(t)?(o=!0,ot(g.$validators,function(t,e){var n=t(i,r);o=o&&n,u(e,n)}),o||(ot(g.$asyncValidators,function(t,e){u(e,null)}),0)?(a=[],s=!0,ot(g.$asyncValidators,function(t,e){var n=t(i,r);if(!k(n))throw Pr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",n);u(e,it),a.push(n.then(function(){u(e,!0)},function(t){u(e,s=!1)}))}),a.length?c.all(a).then(function(){l(s)},at):l(!0)):l(!1)):l(!1);function u(t,e){n===v&&g.$setValidity(t,e)}function l(t){n===v&&e(t)}},this.$commitViewValue=function(){var t=g.$viewValue;u.cancel($),(g.$$lastCommittedViewValue!==t||""===t&&g.$$hasNativeValidators)&&(g.$$lastCommittedViewValue=t,g.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=g.$$lastCommittedViewValue,t=!P(e)||it;if(t)for(var n=0;n<g.$parsers.length;n++)if(P(e=g.$parsers[n](e))){t=!1;break}x(g.$modelValue)&&isNaN(g.$modelValue)&&(g.$modelValue=p(a));var i=g.$modelValue,r=g.$options&&g.$options.allowInvalid;function o(){g.$modelValue!==i&&g.$$writeModelToScope()}g.$$rawModelValue=e,r&&(g.$modelValue=e,o()),g.$$runValidators(t,e,g.$$lastCommittedViewValue,function(t){r||(g.$modelValue=t?e:it,o())})},this.$$writeModelToScope=function(){h(a,g.$modelValue),ot(g.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){g.$viewValue=t,g.$options&&!g.$options.updateOnDefault||g.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(t){var e,n=0,i=g.$options;i&&Y(i.debounce)&&(x(e=i.debounce)?n=e:x(e[t])?n=e[t]:x(e.default)&&(n=e.default)),u.cancel($),n?$=u(function(){g.$commitViewValue()},n):l.$$phase?g.$commitViewValue():a.$apply(function(){g.$commitViewValue()})},a.$watch(function(){var t=p(a);if(t!==g.$modelValue){g.$modelValue=g.$$rawModelValue=t;for(var e=g.$formatters,n=e.length,i=t;n--;)i=e[n](i);g.$viewValue!==i&&(g.$viewValue=g.$$lastCommittedViewValue=i,g.$render(),g.$$runValidators(it,t,i,at))}return t})}],Dr=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Mr,priority:1,compile:function(t){return t.addClass(Er).addClass(Tr).addClass(Sr),{pre:function(t,e,n,i){var r=i[0],o=i[1]||Ri;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,t,n,i){var r=i[0];r.$options&&r.$options.updateOn&&t.on(r.$options.updateOn,function(t){r.$$debounceViewValueCommit(t&&t.type)}),t.on("blur",function(t){r.$touched||(o.$$phase?e.$evalAsync(r.$setTouched):e.$apply(r.$setTouched))})}}}}}],Ir=/(\s+|^)default(\s+|$)/,Nr=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==it?(this.$options.updateOnDefault=!1,this.$options.updateOn=dt(this.$options.updateOn.replace(Ir,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};function Rr(t){var r=t.ctrl,n=t.$element,i={},o=t.set,a=t.unset,s=t.parentForm,u=t.$animate;function l(t,e){e&&!i[t]?(u.addClass(n,t),i[t]=!0):!e&&i[t]&&(u.removeClass(n,t),i[t]=!1)}function c(t,e){t=t?"-"+mt(t,"-"):"",l(Sr+t,!0===e),l(Ar+t,!1===e)}i[Ar]=!(i[Sr]=n.hasClass(Sr)),r.$setValidity=function(t,e,n){e===it?function(t,e,n){r[t]||(r[t]={});o(r[t],e,n)}("$pending",t,n):function(t,e,n){r[t]&&a(r[t],e,n);jr(r[t])&&(r[t]=it)}("$pending",t,n);A(e)?e?(a(r.$error,t,n),o(r.$$success,t,n)):(o(r.$error,t,n),a(r.$$success,t,n)):(a(r.$error,t,n),a(r.$$success,t,n));r.$pending?(l(_r,!0),r.$valid=r.$invalid=it,c("",null)):(l(_r,!1),r.$valid=jr(r.$error),r.$invalid=!r.$valid,c("",r.$valid));var i;i=r.$pending&&r.$pending[t]?it:!r.$error[t]&&(!!r.$$success[t]||null);c(t,i),s.$setValidity(t,i,r)}}function jr(t){if(t)for(var e in t)return!1;return!0}var Vr,Fr=Di({terminal:!0,priority:1e3}),Ur=["$locale","$interpolate",function(h,$){var g=/{}/g,v=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(i,r,o){var a,t=o.count,e=o.$attr.when&&r.attr(o.$attr.when),s=o.offset||0,u=i.$eval(e)||{},l={},n=$.startSymbol(),c=$.endSymbol(),f=n+t+"-"+s+c,d=b.noop;function p(t){r.text(t||"")}ot(o,function(t,e){var n=v.exec(e);if(n){var i=(n[1]?"-":"")+N(n[2]);u[i]=r.attr(o.$attr[e])}}),ot(u,function(t,e){l[e]=$(t.replace(g,f))}),i.$watch(t,function(t){var e=parseFloat(t),n=isNaN(e);n||e in u||(e=h.pluralCat(e-s)),e===a||n&&isNaN(a)||(d(),d=i.$watch(l[e],p),a=e)})}}}],qr=["$parse","$animate",function(u,_){var P="$$NG_REMOVED",M=w("ngRepeat"),D=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var x=e.ngRepeat,C=nt.createComment(" end ngRepeat: "+x+" "),n=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw M("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);var i=n[1],r=n[2],S=n[3],o=n[4];if(!(n=i.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw M("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i);var a,A,E,k,T=n[3]||n[1],O=n[2];if(S&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(S)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(S)))throw M("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",S);var s={$id:me};return o?a=u(o):(E=function(t,e){return me(e)},k=function(t){return t}),function(m,y,t,e,w){a&&(A=function(t,e,n){return O&&(s[O]=t),s[T]=e,s.$index=n,a(m,s)});var b=Et();m.$watchCollection(r,function(t){var i,e,n,r,o,a,s,u,l,c,f,d,p,h=y[0],$=Et();if(S&&(m[S]=t),I(t))l=t,u=A||E;else{for(var g in u=A||k,l=[],t)t.hasOwnProperty(g)&&"$"!=g.charAt(0)&&l.push(g);l.sort()}for(r=l.length,f=new Array(r),i=0;i<r;i++)if(o=t===l?i:l[i],a=t[o],s=u(o,a,i),b[s])c=b[s],delete b[s],$[s]=c,f[i]=c;else{if($[s])throw ot(f,function(t){t&&t.scope&&(b[t.id]=t)}),M("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",x,s,a);f[i]={id:s,scope:it,clone:it},$[s]=!0}for(var v in b){if(d=At((c=b[v]).clone),_.leave(d),d[0].parentNode)for(i=0,e=d.length;i<e;i++)d[i][P]=!0;c.scope.$destroy()}for(i=0;i<r;i++)if(o=t===l?i:l[i],a=t[o],(c=f[i]).scope){for(n=h;(n=n.nextSibling)&&n[P];);c.clone[0]!=n&&_.move(At(c.clone),null,rt(h)),h=(p=c).clone[p.clone.length-1],D(c.scope,i,T,a,O,o,r)}else w(function(t,e){c.scope=e;var n=C.cloneNode(!1);t[t.length++]=n,_.enter(t,null,rt(h)),h=n,c.clone=t,$[c.id]=c,D(c.scope,i,T,a,O,o,r)});b=$})}}}}],Lr="ng-hide",Br="ng-hide-animate",Hr=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){i[t?"removeClass":"addClass"](e,Lr,{tempClasses:Br})})}}}],Wr=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){i[t?"addClass":"removeClass"](e,Lr,{tempClasses:Br})})}}}],Gr=Di(function(t,n,e){t.$watchCollection(e.ngStyle,function(t,e){e&&t!==e&&ot(e,function(t,e){n.css(e,"")}),t&&n.css(t)})}),zr=["$animate",function(c){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,r){var i=n.ngSwitch||n.on,o=[],a=[],s=[],u=[],l=function(t,e){return function(){t.splice(e,1)}};t.$watch(i,function(t){var e,n;for(e=0,n=s.length;e<n;++e)c.cancel(s[e]);for(e=s.length=0,n=u.length;e<n;++e){var i=At(a[e].clone);u[e].$destroy(),(s[e]=c.leave(i)).then(l(s,e))}a.length=0,u.length=0,(o=r.cases["!"+t]||r.cases["?"])&&ot(o,function(r){r.transclude(function(t,e){u.push(e);var n=r.element;t[t.length++]=nt.createComment(" end ngSwitchWhen: ");var i={clone:t};a.push(i),c.enter(t,n.parent(),n)})})})}}}],Yr=Di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),Jr=Di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Kr=Di({restrict:"EAC",link:function(t,e,n,i,r){if(!r)throw w("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",vt(e));r(function(t){e.empty(),e.append(t)})}}),Xr=["$templateCache",function(r){return{restrict:"E",terminal:!0,compile:function(t,e){if("text/ng-template"==e.type){var n=e.id,i=t[0].text;r.put(n,i)}}}}],Zr=w("ngOptions"),Qr=y({restrict:"A",terminal:!0}),to=["$compile","$parse",function(y,w){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:at};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,t,e){var i,r=this,o={},a=s;r.databound=e.ngModel,r.init=function(t,e,n){a=t,e,i=n},r.addOption=function(t,e){Ct(t,'"option value"'),o[t]=!0,a.$viewValue==t&&(n.val(t),i.parent()&&i.remove()),e&&e[0].hasAttribute("selected")&&(e[0].selected=!0)},r.removeOption=function(t){this.hasOption(t)&&(delete o[t],a.$viewValue===t&&this.renderUnknownOption(t))},r.renderUnknownOption=function(t){var e="? "+me(t)+" ?";i.val(e),n.prepend(i),n.val(e),i.prop("selected",!0)},r.hasOption=function(t){return o.hasOwnProperty(t)},t.$on("$destroy",function(){r.renderUnknownOption=at})}],link:function(t,e,n,i){if(i[1]){for(var r,o,a,s,u,l,c,f,d,U=i[0],p=i[1],q=n.multiple,h=n.ngOptions,L=!1,B=!1,H=rt(nt.createElement("option")),W=rt(nt.createElement("optgroup")),$=H.clone(),g=0,v=e.children(),m=v.length;g<m;g++)if(""===v[g].value){r=L=v.eq(g);break}U.init(p,L,$),q&&(p.$isEmpty=function(t){return!t||0===t.length}),h?function(A,E,k){var t;if(!(t=h.match(b)))throw Zr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",h,vt(E));var T=w(t[2]||t[1]),i=t[4]||t[6],e=/ as /.test(t[0])&&t[1],O=e?w(e):null,_=t[5],P=w(t[3]||""),M=w(t[2]?t[1]:i),D=w(t[7]),I=t[8]?w(t[8]):null,N={},R=[[{element:E,label:""}]],j={};L&&(y(L)(A),L.removeClass("ng-scope"),L.remove());E.empty(),E.on("change",function(){A.$apply(function(){var e,n=D(A)||[];if(q)e=[],ot(E.val(),function(t){t=I?N[t]:t,e.push(r(t,n[t]))});else{var t=I?N[E.val()]:E.val();e=r(t,n[t])}k.$setViewValue(e),o()})}),k.$render=o,A.$watchCollection(D,n),A.$watchCollection(function(){var t,e=D(A);if(e&&lt(e)){t=new Array(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=V(T,n,e[n]);return t}if(e)for(var r in t={},e)e.hasOwnProperty(r)&&(t[r]=V(T,r,e[r]));return t},n),q&&A.$watchCollection(function(){return k.$modelValue},n);function V(t,e,n){return j[i]=n,_&&(j[_]=e),t(A,j)}function r(t,e){if("?"===t)return it;if(""===t)return null;var n=O||M;return V(n,t,e)}function n(){B||(A.$$postDigest(o),B=!0)}function F(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function o(){B=!1;var t,e,n,i,r,o,a,s,u,l,c,f,d,p,h,$,g,v={"":[]},m=[""],y=k.$viewValue,w=D(A)||[],b=_?z(w):w,x={},C=function(i){var r;if(q)if(I&&lt(i)){r=new ye([]);for(var t=0;t<i.length;t++)r.put(V(I,null,i[t]),!0)}else r=new ye(i);else I&&(i=V(I,null,i));return function(t,e){var n;return n=I||(O||M),q?Y(r.remove(V(n,t,e))):i===V(n,t,e)}}(y),S=!1;for(N={},f=0;l=b.length,f<l;f++)a=f,_&&"$"===(a=b[f]).charAt(0)||(s=w[a],t=V(P,a,s)||"",(e=v[t])||(e=v[t]=[],m.push(t)),d=C(a,s),S=S||d,$=Y($=V(T,a,s))?$:"",g=I?I(A,j):_?b[f]:f,I&&(N[g]=a),e.push({id:g,label:$,selected:d}));for(q||(L||null===y?v[""].unshift({id:"",label:"",selected:!S}):S||v[""].unshift({id:"?",label:"",selected:!0})),c=0,u=m.length;c<u;c++){for(t=m[c],e=v[t],R.length<=c?(i={element:W.clone().attr("label",t),label:e.label},r=[i],R.push(r),E.append(i.element)):(r=R[c],(i=r[0]).label!=t&&i.element.attr("label",i.label=t)),p=null,f=0,l=e.length;f<l;f++)n=e[f],(o=r[f+1])?(p=o.element,o.label!==n.label&&(F(x,o.label,!1),F(x,n.label,!0),p.text(o.label=n.label),p.prop("label",o.label)),o.id!==n.id&&p.val(o.id=n.id),p[0].selected!==n.selected&&(p.prop("selected",o.selected=n.selected),G&&p.prop("selected",o.selected))):(""===n.id&&L?h=L:(h=H.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),r.push(o={element:h,label:n.label,id:n.id,selected:n.selected}),F(x,n.label,!0),p?p.after(h):i.element.append(h),p=h);for(f++;r.length>f;)n=r.pop(),F(x,n.label,!1),n.element.remove()}for(;R.length>c;){for(e=R.pop(),f=1;f<e.length;++f)F(x,e[f].label,!1);e[0].element.remove()}ot(x,function(t,e){0<t?U.addOption(e):t<0&&U.removeOption(e)})}}(t,e,p):q?(l=t,c=e,(f=p).$render=function(){var e=new ye(f.$viewValue);ot(c.find("option"),function(t){t.selected=Y(e.get(t.value))})},l.$watch(function(){$t(d,f.$viewValue)||(d=M(f.$viewValue),f.$render())}),c.on("change",function(){l.$apply(function(){var e=[];ot(c.find("option"),function(t){t.selected&&e.push(t.value)}),f.$setViewValue(e)})})):(o=t,a=e,u=U,(s=p).$render=function(){var t=s.$viewValue;u.hasOption(t)?($.parent()&&$.remove(),a.val(t),""===t&&r.prop("selected",!0)):P(t)&&r?a.val(""):u.renderUnknownOption(t)},a.on("change",function(){o.$apply(function(){$.parent()&&$.remove(),s.$setViewValue(a.val())})}))}}}}],eo=["$interpolate",function(n){var s={addOption:at,removeOption:at};return{restrict:"E",priority:100,compile:function(t,e){if(P(e.value)){var a=n(t.text(),!0);a||e.$set("value",t.text())}return function(t,n,i){var e="$selectController",r=n.parent(),o=r.data(e)||r.parent().data(e);o&&o.databound||(o=s),a?t.$watch(a,function(t,e){i.$set("value",t),e!==t&&o.removeOption(e),o.addOption(t,n)}):o.addOption(i.value,n),n.on("$destroy",function(){o.removeOption(i.value)})}}}}],no=y({restrict:"E",terminal:!1}),io=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},ro=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r,o=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(ut(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw w("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,t,vt(e));r=t||it,i.$validate()}),i.$validators.pattern=function(t){return i.$isEmpty(t)||P(r)||r.test(t)}}}}},oo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=p(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(t)||e.length<=r}}}}},ao=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=p(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};l.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(wt||(($=l.jQuery)&&$.fn.on?(R((rt=$).fn,{scope:de.scope,isolateScope:de.isolateScope,controller:de.controller,injector:de.injector,inheritedData:de.inheritedData}),Vr=$.cleanData,$.cleanData=function(t){var e;if(yt)yt=!1;else for(var n,i=0;null!=(n=t[i]);i++)(e=$._data(n,"events"))&&e.$destroy&&$(n).triggerHandler("$destroy");Vr(t)}):rt=Xt,b.element=rt,wt=!0),function(t){R(t,{bootstrap:Z,copy:_,extend:R,equals:$t,element:rt,forEach:ot,injector:Ee,noop:at,bind:V,toJson:U,fromJson:q,identity:m,isUndefined:P,isDefined:Y,isString:ut,isFunction:ct,isObject:st,isNumber:x,isElement:O,isArray:lt,version:Dt,isDate:C,lowercase:N,uppercase:u,callbacks:{counter:0},getTestability:tt,$$minErr:w,$$csp:D,reloadWithDebugInfo:Q}),h=function(t){var l=w("$injector"),n=w("ng");function e(t,e,n){return t[e]||(t[e]=n())}var i=e(t,"angular",Object);return i.$$minErr=i.$$minErr||w,e(i,"module",function(){var t={};return function(a,s,u){return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name",e)}(a,"module"),s&&t.hasOwnProperty(a)&&(t[a]=null),e(t,a,function(){if(!s)throw l("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var r=[],t=[],e=[],n=i("$injector","invoke","push",t),o={_invokeQueue:r,_configBlocks:t,_runBlocks:e,requires:s,name:a,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),config:n,run:function(t){return e.push(t),this}};return u&&n(u),o;function i(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),o}}})}})}(l);try{h("ngLocale")}catch(t){h("ngLocale",[]).provider("$locale",sn)}h("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Xn}),t.provider("$compile",Re).directive({a:Ii,input:rr,textarea:rr,form:Ui,script:Xr,select:to,style:no,option:eo,ngBind:sr,ngBindHtml:lr,ngBindTemplate:ur,ngClass:dr,ngClassEven:hr,ngClassOdd:pr,ngCloak:$r,ngController:gr,ngForm:qi,ngHide:Wr,ngIf:yr,ngInclude:wr,ngInit:xr,ngNonBindable:Fr,ngPluralize:Ur,ngRepeat:qr,ngShow:Hr,ngStyle:Gr,ngSwitch:zr,ngSwitchWhen:Yr,ngSwitchDefault:Jr,ngOptions:Qr,ngTransclude:Kr,ngModel:Dr,ngList:Cr,ngChange:cr,pattern:ro,ngPattern:ro,required:io,ngRequired:io,minlength:ao,ngMinlength:ao,maxlength:oo,ngMaxlength:oo,ngValue:ar,ngModelOptions:Nr}).directive({ngInclude:br}).directive(Ni).directive(vr),t.provider({$anchorScroll:ke,$animate:Oe,$browser:Me,$cacheFactory:De,$controller:qe,$document:Le,$exceptionHandler:Be,$filter:di,$interpolate:on,$interval:an,$http:tn,$httpBackend:nn,$location:Sn,$log:An,$parse:Wn,$rootScope:Kn,$q:Gn,$$q:zn,$sce:ni,$sceDelegate:ei,$sniffer:ii,$templateCache:Ie,$templateRequest:ri,$$testability:oi,$timeout:ai,$window:fi,$$rAF:Jn,$$asyncCallback:_e,$$jqLite:ve})}])}(b),rt(nt).ready(function(){X(nt,Z)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),angular.module("geolocation",[]).constant("geolocation_msgs",{"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.permissionDenied":"You have rejected access to your location","errors.location.positionUnavailable":"Unable to determine your location","errors.location.timeout":"Service timeout has been reached"}),angular.module("geolocation").factory("geolocation",["$q","$rootScope","$window","geolocation_msgs",function(n,i,r,o){return{getLocation:function(t){var e=n.defer();return r.navigator&&r.navigator.geolocation?r.navigator.geolocation.getCurrentPosition(function(t){i.$apply(function(){e.resolve(t)})},function(t){switch(t.code){case 1:i.$broadcast("error",o["errors.location.permissionDenied"]),i.$apply(function(){e.reject(o["errors.location.permissionDenied"])});break;case 2:i.$broadcast("error",o["errors.location.positionUnavailable"]),i.$apply(function(){e.reject(o["errors.location.positionUnavailable"])});break;case 3:i.$broadcast("error",o["errors.location.timeout"]),i.$apply(function(){e.reject(o["errors.location.timeout"])})}},t):(i.$broadcast("error",o["errors.location.unsupportedBrowser"]),i.$apply(function(){e.reject(o["errors.location.unsupportedBrowser"])})),e.promise}}}]),function(e,z,Y){"use strict";z.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var r="$$ngAnimateChildren";return function(t,e,n){var i=n.ngAnimateChildren;z.isString(i)&&0===i.length?e.data(r,!0):t.$watch(i,function(t){e.data(r,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth;t()})}}]).config(["$provide","$animateProvider",function(t,u){var U,q=z.noop,L=z.forEach,x=u.$$selectors,B=z.isArray,H=z.isString,h=z.isObject,W=1,P="$$ngAnimateState",M="ng-animate",D={running:!0};function G(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==W)return n}}function $(t){return t&&z.element(t)}function g(t){return z.element(G(t))}function I(t,e){return G(t)==G(e)}t.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(l,i,y,w,E,k,r,t,e,n){U=n,E.data(P,D);var o=r.$watch(function(){return e.totalPendingRequests},function(t,e){0===t&&(o(),r.$$postDigest(function(){r.$$postDigest(function(){D.running=!1})}))}),T=0,a=u.classNameFilter(),b=a?function(t){return a.test(t)}:function(){return!0};function c(t,e){var n=t.data(P)||{};return e&&(n.running=!0,n.structural=!0,t.data(P,n)),n.disabled||n.running&&n.structural}function f(t){var e,n=i.defer();return n.promise.$$cancelFn=function(){e&&e()},r.$$postDigest(function(){e=t(function(){n.resolve()})}),n.promise}function d(t){if(h(t))return t.tempClasses&&H(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t}function O(s,e,u,l){var t=s[0];if(t){var c,f;l&&(l.to=l.to||{},l.from=l.from||{}),B(u)&&(c=u[0],f=u[1],c?f?u=c+" "+f:(u=c,e="addClass"):(u=f,e="removeClass"));var n="setClass"==e,i=n||"addClass"==e||"removeClass"==e||"animate"==e,r=s.attr("class")+" "+u;if(b(r)){var o=q,a=[],d=[],p=q,h=[],$=[],g=(" "+r).replace(/\s+/g,".");return L(function(t){if(t){var e=[],n={},i=t.substr(1).split(".");(w.transitions||w.animations)&&e.push(y.get(x[""]));for(var r=0;r<i.length;r++){var o=i[r],a=x[o];a&&!n[o]&&(e.push(y.get(a)),n[o]=!0)}return e}}(g),function(t){!v(t,e)&&n&&(v(t,"addClass"),v(t,"removeClass"))}),{node:t,event:e,className:u,isClassBased:i,isSetClassOperation:n,applyStyles:function(){l&&s.css(z.extend(l.from||{},l.to||{}))},before:function(t){o=t,m(d,a,function(){o=q,t()})},after:function(t){p=t,m($,h,function(){p=q,t()})},cancel:function(){L(a,function(t){(t||q)(!0)}),o(!0),L(h,function(t){(t||q)(!0)}),p(!0)}}}}function v(t,e){var n=t[e],i=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];if(n||i)return"leave"==e&&(i=n,n=null),$.push({event:e,fn:n}),d.push({event:e,fn:i}),!0}function m(t,i,r){var o=[];L(t,function(t){t.fn&&o.push(t)});var a=0;L(o,function(t,e){var n=function(){!function(t){if(i){if((i[t]||q)(),++a<o.length)return;i=null}r()}(e)};switch(t.event){case"setClass":i.push(t.fn(s,c,f,n,l));break;case"animate":i.push(t.fn(s,u,l.from,l.to,n));break;case"addClass":i.push(t.fn(s,c||u,n,l));break;case"removeClass":i.push(t.fn(s,f||u,n,l));break;default:i.push(t.fn(s,n,l))}}),i&&0===i.length&&r()}}return{animate:function(e,t,n,i,r){return i=i||"ng-inline-animate",(r=d(r)||{}).from=n?t:null,r.to=n||t,f(function(t){return p("animate",i,g(e),null,null,q,r,t)})},enter:function(e,n,i,r){return r=d(r),e=z.element(e),n=$(n),i=$(i),c(e,!0),l.enter(e,n,i),f(function(t){return p("enter","ng-enter",g(e),n,i,q,r,t)})},leave:function(e,n){return n=d(n),s(e=z.element(e)),c(e,!0),f(function(t){return p("leave","ng-leave",g(e),null,null,function(){l.leave(e)},n,t)})},move:function(e,n,i,r){return r=d(r),e=z.element(e),n=$(n),i=$(i),s(e),c(e,!0),l.move(e,n,i),f(function(t){return p("move","ng-move",g(e),n,i,q,r,t)})},addClass:function(t,e,n){return this.setClass(t,e,[],n)},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},setClass:function(s,t,e,n){n=d(n);var u="$$animateClasses";if(c(s=g(s=z.element(s))))return l.$$setClassImmediately(s,t,e,n);var i,r=s.data(u),o=!!r;return r||(r={classes:{}}),i=r.classes,t=B(t)?t:t.split(" "),L(t,function(t){t&&t.length&&(i[t]=!0)}),e=B(e)?e:e.split(" "),L(e,function(t){t&&t.length&&(i[t]=!1)}),o?(n&&r.options&&(r.options=z.extend(r.options||{},n)),r.promise):(s.data(u,r={classes:i,options:n}),r.promise=f(function(t){var e=s.parent(),n=G(s),i=n.parentNode;if(i&&!i.$$NG_REMOVED&&!n.$$NG_REMOVED){var r=s.data(u);s.removeData(u);var o=s.data(P)||{},a=function(t,e,n){var r={};L(n=n||{},function(e,t){L(t.split(" "),function(t){r[t]=e})});var o=Object.create(null);L((t.attr("class")||"").split(/\s+/),function(t){o[t]=!0});var a=[],s=[];return L(e&&e.classes||[],function(t,e){var n=o[e],i=r[e]||{};!1===t?(n||"addClass"==i.event)&&s.push(e):!0===t&&(n&&"removeClass"!=i.event||a.push(e))}),0<a.length+s.length&&[a.join(" "),s.join(" ")]}(s,r,o.active);return a?p("setClass",a,s,e,null,function(){a[0]&&l.$$addClassImmediately(s,a[0]),a[1]&&l.$$removeClassImmediately(s,a[1])},r.options,t):t()}t()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)_(e);else{var n=e.data(P)||{};n.disabled=!0,e.data(P,n)}break;case 1:D.disabled=!t;break;default:t=!D.disabled}return!!t}};function p(n,i,r,t,e,o,a,s){var u=q,l=O(r,n,i,a);if(!l)return S(),b(),x(),A(),u;n=l.event,i=l.className;var c=z.element._data(l.node);if(c=c&&c.events,t||(t=e?e.parent():r.parent()),function(t,e){if(D.disabled)return!0;if(I(t,E))return D.running;var n,i,r;do{if(0===e.length)break;var o=I(e,E),a=o?D:e.data(P)||{};if(a.disabled)return!0;if(o&&(r=!0),!1!==n){var s=e.data("$$ngAnimateChildren");z.isDefined(s)&&(n=s)}i=i||a.running||a.last&&!a.last.isClassBased}while(e=e.parent());return!r||!n&&i}(r,t))return S(),b(),x(),A(),u;var f=r.data(P)||{},d=f.active||{},p=f.totalActive||0,h=f.last,$=!1;if(0<p){var g=[];if(l.isClassBased){if("setClass"==h.event)g.push(h),_(r,i);else if(d[i]){var v=d[i];v.event==n?$=!0:(g.push(v),_(r,i))}}else if("leave"==n&&d["ng-leave"])$=!0;else{for(var m in d)g.push(d[m]);f={},_(r,!0)}0<g.length&&L(g,function(t){t.cancel()})}if(!l.isClassBased||l.isSetClassOperation||"animate"==n||$||($="addClass"==n==r.hasClass(i)),$)return S(),b(),x(),C(),u;d=f.active||{},p=f.totalActive||0,"leave"==n&&r.one("$destroy",function(t){var e=z.element(this),n=e.data(P);if(n){var i=n.active["ng-leave"];i&&(i.cancel(),_(e,"ng-leave"))}}),U.addClass(r,M),a&&a.tempClasses&&L(a.tempClasses,function(t){U.addClass(r,t)});var y=T++;return p++,d[i]=l,r.data(P,{last:l,active:d,index:y,totalActive:p}),b(),l.before(function(t){var e=r.data(P);t=t||!e||!e.active[i]||l.isClassBased&&e.active[i].event!=n,S(),!0===t?A():(x(),l.after(A))}),l.cancel;function w(t){var e="$animate:"+t;c&&c[e]&&0<c[e].length&&k(function(){r.triggerHandler(e,{event:n,className:i})})}function b(){w("before")}function x(){w("after")}function C(){w("close"),s()}function S(){S.hasBeenRun||(S.hasBeenRun=!0,o())}function A(){if(!A.hasBeenRun){l&&l.applyStyles(),A.hasBeenRun=!0,a&&a.tempClasses&&L(a.tempClasses,function(t){U.removeClass(r,t)});var t=r.data(P);t&&(l&&l.isClassBased?_(r,i):(k(function(){var t=r.data(P)||{};y==t.index&&_(r,i)}),r.data(P,t))),C()}}}function s(t){var e=G(t);if(e){var n=z.isFunction(e.getElementsByClassName)?e.getElementsByClassName(M):e.querySelectorAll("."+M);L(n,function(t){var e=(t=z.element(t)).data(P);e&&e.active&&L(e.active,function(t){t.cancel()})})}}function _(t,e){if(I(t,E))D.disabled||(D.running=!1,D.structural=!1);else if(e){var n=t.data(P)||{},i=!0===e;!i&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),!i&&n.totalActive||(U.removeClass(t,M),t.removeData(P))}}}]),u.register("",["$window","$sniffer","$timeout","$$animateReflow",function(l,t,k,n){var c,T,f,O,_="";T=e.ontransitionend===Y&&e.onwebkittransitionend!==Y?(_="-webkit-",c="WebkitTransition","webkitTransitionEnd transitionend"):(c="transition","transitionend"),O=e.onanimationend===Y&&e.onwebkitanimationend!==Y?(_="-webkit-",f="WebkitAnimation","webkitAnimationEnd animationend"):(f="animation","animationend");var i,d="Duration",r="Property",p="Delay",h="IterationCount",o="PlayState",C="$$ngAnimateKey",P="$$ngAnimateCSS3Data",M=3,D=1.5,I=1e3,S={},A=0,a=[];function s(){i||(i=n(function(){a=[],i=null,S={}}))}function u(t,e){i&&i(),a.push(e),i=n(function(){L(a,function(t){t()}),a=[],i=null,S={}})}var $=null,g=0,v=[];function N(t,e){var n=G(t);t=z.element(n),v.push(t);var i=Date.now()+e;i<=g||(k.cancel($),g=i,$=k(function(){L(v,function(t){var e=t.data(P);e&&L(e.closeAnimationFns,function(t){t()})}),v=[]},e,!1))}function R(t,e){var n=e?S[e]:null;if(!n){var o=0,a=0,s=0,u=0;L(t,function(t){if(t.nodeType==W){var e=l.getComputedStyle(t)||{},n=e[c+d];o=Math.max(m(n),o);var i=e[c+p];a=Math.max(m(i),a);e[f+p];u=Math.max(m(e[f+p]),u);var r=m(e[f+d]);0<r&&(r*=parseInt(e[f+h],10)||1),s=Math.max(r,s)}}),n={total:0,transitionDelay:a,transitionDuration:o,animationDelay:u,animationDuration:s},e&&(S[e]=n)}return n}function m(t){var e=0,n=H(t)?t.split(/\s*,\s*/):[];return L(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function y(t,e,n,i){var r,o,a,s=0<=["ng-enter","ng-leave","ng-move"].indexOf(n),u=(o=(r=e).parent(),(a=o.data(C))||(o.data(C,++A),a=A),a+"-"+G(r).getAttribute("class")),l=u+" "+n,c=S[l]?++S[l].total:0,f={};if(0<c){var d=n+"-stagger",p=u+" "+d,h=!S[p];h&&U.addClass(e,d),f=R(e,p),h&&U.removeClass(e,d)}U.addClass(e,n);var $=e.data(P)||{},g=R(e,l),v=g.transitionDuration,m=g.animationDuration;if(s&&0===v&&0===m)return U.removeClass(e,n),!1;var y=i||s&&0<v,w=0<m&&0<f.animationDelay&&0===f.animationDuration,b=$.closeAnimationFns||[];e.data(P,{stagger:f,cacheKey:l,running:$.running||0,itemIndex:c,blockTransition:y,closeAnimationFns:b});var x=G(e);return y&&(j(x,!0),i&&e.css(i)),w&&V(x,!0),!0}function j(t,e){t.style[c+r]=e?"none":""}function V(t,e){t.style[f+o]=e?"paused":""}function w(t,e,n,i){if(y(0,e,n,i))return function(t){t&&F(e,n)}}function b(t,e,n,i,r){if(e.data(P))return function(t,n,i,r,e){var o=G(n),a=n.data(P);if(-1!=o.getAttribute("class").indexOf(i)&&a){var s="",u="";L(i.split(" "),function(t,e){var n=(0<e?" ":"")+t;s+=n+"-active",u+=n+"-pending"});var l=[],c=a.itemIndex,f=a.stagger,d=0;if(0<c){var p=0;0<f.transitionDelay&&0===f.transitionDuration&&(p=f.transitionDelay*c);var h=0;0<f.animationDelay&&0===f.animationDuration&&(h=f.animationDelay*c,l.push(_+"animation-play-state")),d=Math.round(100*Math.max(p,h))/100}d||(U.addClass(n,s),a.blockTransition&&j(o,!1));var $=a.cacheKey+" "+s,g=R(n,$),v=Math.max(g.transitionDuration,g.animationDuration);if(0===v)return U.removeClass(n,s),F(n,i),void r();!d&&e&&0<Object.keys(e).length&&(g.transitionDuration||(n.css("transition",g.animationDuration+"s linear all"),l.push("transition")),n.css(e));var m=Math.max(g.transitionDelay,g.animationDelay),y=m*I;if(0<l.length){var w=o.getAttribute("style")||"";";"!==w.charAt(w.length-1)&&(w+=";"),o.setAttribute("style",w+" ")}var b,x=Date.now(),C=O+" "+T,S=(d+(m+v)*D)*I;return 0<d&&(U.addClass(n,u),b=k(function(){b=null,0<g.transitionDuration&&j(o,!1),0<g.animationDuration&&V(o,!1),U.addClass(n,s),U.removeClass(n,u),e&&(0===g.transitionDuration&&n.css("transition",g.animationDuration+"s linear all"),n.css(e),l.push("transition"))},d*I,!1)),n.on(C,E),a.closeAnimationFns.push(function(){A(),r()}),a.running++,N(n,S),A}function A(){n.off(C,E),U.removeClass(n,s),U.removeClass(n,u),b&&k.cancel(b),F(n,i);var t=G(n);for(var e in l)t.style.removeProperty(l[e])}function E(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(M));Math.max(n-x,0)>=y&&v<=i&&r()}r()}(0,e,n,i,r);F(e,n),i()}function x(t,e,n,i,r){var o=w(0,e,n,r.from);if(!o)return s(),void i();var a=o;return u(0,function(){a=b(0,e,n,i,r.to)}),function(t){(a||q)(t)}}function F(t,e){U.removeClass(t,e);var n=t.data(P);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(P))}return{animate:function(t,e,n,i,r,o){return(o=o||{}).from=n,o.to=i,x(0,t,e,r,o)},enter:function(t,e,n){return x(0,t,"ng-enter",e,n=n||{})},leave:function(t,e,n){return x(0,t,"ng-leave",e,n=n||{})},move:function(t,e,n){return x(0,t,"ng-move",e,n=n||{})},beforeSetClass:function(t,e,n,i,r){r=r||{};var o=w(0,t,E(n,"-remove")+" "+E(e,"-add"),r.from);if(o)return u(0,i),o;s(),i()},beforeAddClass:function(t,e,n,i){i=i||{};var r=w(0,t,E(e,"-add"),i.from);if(r)return u(0,n),r;s(),n()},beforeRemoveClass:function(t,e,n,i){i=i||{};var r=w(0,t,E(e,"-remove"),i.from);if(r)return u(0,n),r;s(),n()},setClass:function(t,e,n,i,r){return r=r||{},b(0,t,(n=E(n,"-remove"))+" "+(e=E(e,"-add")),i,r.to)},addClass:function(t,e,n,i){return i=i||{},b(0,t,E(e,"-add"),n,i.to)},removeClass:function(t,e,n,i){return i=i||{},b(0,t,E(e,"-remove"),n,i.to)}};function E(t,n){var i="";return t=B(t)?t:t.split(/\s+/),L(t,function(t,e){t&&0<t.length&&(i+=(0<e?" ":"")+t+n)}),i}}])}])}(window,window.angular),function(t,C,e){"use strict";var n=C.module("ngTouch",[]);function i(l,c,f){n.directive(l,["$parse","$swipe",function(s,u){return function(n,i,t){var r,o,a=s(t[l]);var e=["touch"];C.isDefined(t.ngSwipeDisableMouse)||e.push("mouse"),u.bind(i,{start:function(t,e){r=t,o=!0},cancel:function(t){o=!1},end:function(t,e){(function(t){if(!r)return!1;var e=Math.abs(t.y-r.y),n=(t.x-r.x)*c;return o&&e<75&&0<n&&30<n&&e/n<.3})(t)&&n.$apply(function(){i.triggerHandler(f),a(n,{$event:e})})}},e)}}])}n.factory("$swipe",[function(){var r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function l(t){var e=t.touches&&t.touches.length?t.touches:[t],n=t.changedTouches&&t.changedTouches[0]||t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||e[0].originalEvent||e[0];return{x:n.clientX,y:n.clientY}}function c(t,n){var i=[];return C.forEach(t,function(t){var e=r[t][n];e&&i.push(e)}),i.join(" ")}return{bind:function(t,n,e){var i,r,o,a,s=!1;e=e||["mouse","touch"],t.on(c(e,"start"),function(t){o=l(t),s=!0,r=i=0,a=o,n.start&&n.start(o,t)});var u=c(e,"cancel");u&&t.on(u,function(t){s=!1,n.cancel&&n.cancel(t)}),t.on(c(e,"move"),function(t){if(s&&o){var e=l(t);if(i+=Math.abs(e.x-a.x),r+=Math.abs(e.y-a.y),a=e,!(i<10&&r<10))return i<r?(s=!1,void(n.cancel&&n.cancel(t))):(t.preventDefault(),void(n.move&&n.move(e,t)))}}),t.on(c(e,"end"),function(t){s&&(s=!1,n.end&&n.end(l(t),t))})}}}]),n.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),n.directive("ngClick",["$parse","$timeout","$rootElement",function(t,r,v){var m,y,o,a=2500,u=25,s="ng-click-active";function w(t,e,n){for(var i=0;i<t.length;i+=2)if(r=t[i],o=t[i+1],a=e,s=n,Math.abs(r-a)<u&&Math.abs(o-s)<u)return t.splice(i,i+2),!0;var r,o,a,s;return!1}function b(t){if(!(Date.now()-m>a)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,i=e[0].clientY;n<1&&i<1||o&&o[0]===n&&o[1]===i||(o&&(o=null),"label"===t.target.tagName.toLowerCase()&&(o=[n,i]),w(y,n,i)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur()))}}function x(t){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,i=e[0].clientY;y.push(n,i),r(function(){for(var t=0;t<y.length;t+=2)if(y[t]==n&&y[t+1]==i)return void y.splice(t,t+2)},a,!1)}return function(n,l,c){var f,d,p,h,i=t(c.ngClick),$=!1;function g(){$=!1,l.removeClass(s)}l.on("touchstart",function(t){$=!0,3==(f=t.target?t.target:t.srcElement).nodeType&&(f=f.parentNode),l.addClass(s),d=Date.now();var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].originalEvent||e[0];p=n.clientX,h=n.clientY}),l.on("touchmove",function(t){g()}),l.on("touchcancel",function(t){g()}),l.on("touchend",function(t){var e,n,i=Date.now()-d,r=t.changedTouches&&t.changedTouches.length?t.changedTouches:t.touches&&t.touches.length?t.touches:[t],o=r[0].originalEvent||r[0],a=o.clientX,s=o.clientY,u=Math.sqrt(Math.pow(a-p,2)+Math.pow(s-h,2));$&&i<750&&u<12&&(e=a,n=s,y||(v[0].addEventListener("click",b,!0),v[0].addEventListener("touchstart",x,!0),y=[]),m=Date.now(),w(y,e,n),f&&f.blur(),C.isDefined(c.disabled)&&!1!==c.disabled||l.triggerHandler("click",[t])),g()}),l.onclick=function(t){},l.on("click",function(t,e){n.$apply(function(){i(n,{$event:e||t})})}),l.on("mousedown",function(t){l.addClass(s)}),l.on("mousemove mouseup",function(t){l.removeClass(s)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular);var Traslator,indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};Traslator=function(){var f;function n(t){this._html=t}return n.prototype._htmlPositions=[],n.prototype._textPositions=[],n.prototype._htmlFragments=[],n.prototype._html="",n.prototype._text="",f=function(t){var e;return(e=document.createElement("textarea")).innerHTML=t,e.value},n.create=function(t){var e;return(e=new n(t)).parse(),e},n.version="1.0.0",n.prototype.parse=function(){var t,e,n,i,r,o,a,s,u,l,c;for(this._htmlPositions=[],this._textPositions=[],this._htmlFragments=[],this._text="",a=/((?:&(?![#\w]))*[^&<>]*)(&[^&;]*;|<[!\/]?(?:[\w-]+|\[cdata\[.*?]])(?: [\w_-]+(?:="[^"]*")?)*[^>]*>)([^&<>]*)/gim,e=u=0;null!=(o=a.exec(this._html));)i=o[1],t=o[2],l=n=o[3],u+=(c=i+("</p>"===(s=t.toLowerCase())||"</li>"===s?"\n\n":"")).length,/^&[^&;]*;$/gim.test(t)&&(u+=1),e+=i.length,t.startsWith("<br")&&(this._htmlPositions.push(e),this._textPositions.push(u),this._htmlFragments.push(t)),e+=t.length,this._htmlPositions.push(e),this._textPositions.push(u),this._htmlFragments.push(t),u+=l.length,e+=n.length,r="",/^&[^&;]*;$/gim.test(t)&&(r=f(t)),this._text+=c+r+l;if(""!==this._text||a.match(this._html)||(this._text=new String(this._html)),0===this._textPositions.length||0!==this._textPositions[0])return this._htmlPositions.unshift(0),this._textPositions.unshift(0)},n.prototype.text2html=function(t){var e,n,i,r,o;for(n=i=o=e=0,r=this._textPositions.length;(0<=r?i<r:r<i)&&!(t<this._textPositions[n])&&(e=this._htmlPositions[n],o=this._textPositions[n],t!==this._textPositions[n]||!this._htmlFragments[n].startsWith("<br"));n=0<=r?++i:--i);return e+t-o},n.prototype.html2text=function(t){var e,n,i,r,o;if(t<this._htmlPositions[0])return 0;for(n=i=o=e=0,r=this._htmlPositions.length;(0<=r?i<r:r<i)&&!(t<this._htmlPositions[n]);n=0<=r?++i:--i)e=this._htmlPositions[n],o=this._textPositions[n];return o+t-e},n.prototype.insertHtml=function(t,e){var n;return n=this.text2html(e.text),this._html=this._html.substring(0,n)+t+this._html.substring(n),this.parse()},n.prototype.getHtml=function(){return this._html},n.prototype.getText=function(){return this._text},n}(),window.Traslator=Traslator,angular.module("wordlift.utils.directives",[]).directive("wlOnError",["$parse","$window","$log",function(r,t,e){return{restrict:"A",compile:function(t,e){return function(n,t){var i;return i=r(e.wlOnError),t.on("error",function(t){var e;return e=function(){return i(n,{$event:t})},n.$apply(e)})}}}}]).directive("wlFallback",["$window","$log",function(t,r){return{restrict:"A",priority:99,link:function(t,e,n,i){return e.bind("error",function(){if(n.src!==n.wlFallback)return r.warn("Error on "+n.src+"! Going to fallback on "+n.wlFallback),n.$set("src",n.wlFallback)})}}}]).directive("wlHideAfter",["$timeout","$log",function(o,a){return{restrict:"A",link:function(t,e,n,i){var r;return r=+n.wlHideAfter,o(function(){return a.debug("Remove msg after "+r+" ms"),e.hide()},r)}}}]).directive("wlClipboard",["$timeout","$document","$log",function(r,o,a){return{restrict:"E",scope:{text:"=",onCopied:"&"},transclude:!0,template:'<span\n  class="wl-widget-post-link"\n  ng-class="{\'wl-widget-post-link-copied\' : $copied}"\n  ng-click="copyToClipboard()">\n  <ng-transclude></ng-transclude>\n  <input type="text" ng-value="text" />\n</span>',link:function(e,t,n,i){return e.$copied=!1,e.node=t.find("input"),e.node.css("position","absolute"),e.node.css("left","-10000px"),e.copyToClipboard=function(){var t;try{if(o[0].body.style.webkitUserSelect="initial",(t=o[0].getSelection()).removeAllRanges(),e.node.select(),o[0].execCommand("copy")||a.warn("Error on clipboard copy for "+text),t.removeAllRanges(),e.$copied=!0,r(function(){return a.debug("Going to reset $copied status"),e.$copied=!1},3e3),angular.isFunction(e.onCopied))return e.$evalAsync(e.onCopied())}finally{o[0].body.style.webkitUserSelect=""}}}}}]),angular.module("wordlift.ui.carousel",["ngTouch"]).directive("wlCarousel",["$window","$log",function(o,t){return{restrict:"A",scope:!0,transclude:!0,template:'<div class="wl-carousel" ng-class="{ \'active\' : areControlsVisible }" ng-show="panes.length > 0" ng-mouseover="showControls()" ng-mouseleave="hideControls()">\n  <div class="wl-panes" ng-style="{ width: panesWidth, left: position }" ng-transclude ng-swipe-left="next()" ng-swipe-right="prev()" ></div>\n  <div class="wl-carousel-arrows" ng-show="areControlsVisible" ng-class="{ \'active\' : isActive() }">\n    <i class="wl-angle left" ng-click="prev()" ng-show="isPrevArrowVisible()" />\n    <i class="wl-angle right" ng-click="next()" ng-show="isNextArrowVisible()" />\n  </div>\n</div>',controller:["$scope","$element","$attrs","$log",function(a,t,e,n){var i,r;return r=angular.element(o),a.setItemWidth=function(){return t.width()/a.visibleElements()},a.showControls=function(){return a.areControlsVisible=!0},a.hideControls=function(){return a.areControlsVisible=!1},a.visibleElements=function(){return 460<t.width()?4:1},a.isActive=function(){return a.isPrevArrowVisible()||a.isNextArrowVisible()},a.isPrevArrowVisible=function(){return 0<a.currentPaneIndex},a.isNextArrowVisible=function(){return a.panes.length-a.currentPaneIndex>a.visibleElements()},a.next=function(){if(!(a.currentPaneIndex+a.visibleElements()+1>a.panes.length))return a.position=a.position-a.itemWidth,a.currentPaneIndex=a.currentPaneIndex+1},a.prev=function(){if(0!==a.currentPaneIndex)return a.position=a.position+a.itemWidth,a.currentPaneIndex=a.currentPaneIndex-1},a.setPanesWrapperWidth=function(){return a.panesWidth=a.panes.length*a.itemWidth,a.position=0,a.currentPaneIndex=0},a.itemWidth=a.setItemWidth(),a.panesWidth=void 0,a.panes=[],a.position=0,a.currentPaneIndex=0,a.areControlsVisible=!1,i=function(){var t,e,n;for(a.itemWidth=a.setItemWidth(),a.setPanesWrapperWidth(),t=0,e=(n=a.panes).length;t<e;t++)n[t].scope.setWidth(a.itemWidth);return a.$apply()},r.bind("resize",function(){return i}),r.bind("load",function(){return i}),this.registerPane=function(t,e,n){var i;return t.setWidth(a.itemWidth),i={scope:t,element:e},a.panes.push(i),a.setPanesWrapperWidth()},this.unregisterPane=function(t){var e,n,i,r,o;for(o=void 0,e=n=0,i=(r=a.panes).length;n<i;e=++n)r[e].scope.$id===t.$id&&(o=e);return a.panes.splice(o,1),a.setPanesWrapperWidth()}}]}}]).directive("wlCarouselPane",["$log",function(r){return{require:"^wlCarousel",restrict:"EA",scope:{wlFirstPane:"="},transclude:!0,template:"<div ng-transclude></div>",link:function(t,e,n,i){return e.addClass("wl-carousel-item"),t.isFirst=t.wlFirstPane||!1,t.setWidth=function(t){return e.css("width",t+"px")},t.$on("$destroy",function(){return r.debug("Destroy "+t.$id),i.unregisterPane(t)}),i.registerPane(t,e,t.isFirst)}}}]),angular.module("wordlift.editpost.widget.controllers.EditPostWidgetController",["wordlift.editpost.widget.services.AnalysisService","wordlift.editpost.widget.services.NoAnnotationAnalysisService","wordlift.editpost.widget.services.EditorService","wordlift.editpost.widget.services.GeoLocationService","wordlift.editpost.widget.providers.ConfigurationProvider"]).filter("filterEntitiesByTypesAndRelevance",["configuration","$log",function(t,e){return function(t,e){var n,i,r,o;if(i=[],null==t)return i;for(r in t)o=(n=t[r]).mainType,0<=indexOf.call(e,o)&&i.push(n);return i}}]).filter("filterTruncate",["$log",function(t){return function(t,e){var n;return isNaN(e)?t:e<=0?"":(t&&(n=t.split(/\s+/)).length>e&&(t=n.slice(0,e).join(" ")+"…"),t)}}]).filter("filterSplitInRows",["$log",function(t){return function(n){var i;if(n)return n=Math.ceil(n),function(){i=[];for(var t=0,e=n-1;0<=e?t<=e:e<=t;0<=e?t++:t--)i.push(t);return i}.apply(this)}}]).filter("filterEntitiesByTypes",["$log",function(t){return function(t,e){var n,i,r,o;for(r in i=[],t)o=(n=t[r]).mainType,0<=indexOf.call(e,o)&&i.push(n);return i}}]).filter("isEntitySelected",["$log",function(t){return function(t){var e,n,i;for(i in n=[],t)0<(e=t[i]).occurrences.length&&n.push(e);return n}}]).controller("EditPostWidgetController",["GeoLocationService","RelatedPostDataRetrieverService","EditorService","AnalysisService","configuration","$log","$scope","$rootScope",function(t,r,i,o,u,y,w,a){var b,e,n,s;for(w.isRunning=!1,w.isGeolocationRunning=!1,w.analysis=void 0,w.relatedPosts=void 0,w.currentEntity=void 0,w.currentEntityType=void 0,w.canCreateEntities=o.canCreateEntities,w.setCurrentEntity=function(t,e){var n;switch(w.currentEntity=t,w.currentEntityType=e){case"entity":return y.debug("An existing entity. Nothing to do",t);default:return y.debug("A new entity"),w.currentEntity=o.createEntity(),w.isThereASelection||null!=w.annotation?null!=w.annotation?(n=w.analysis.annotations[w.annotation],void(w.currentEntity.label=n.text)):i.createTextAnnotationFromCurrentSelection():(w.addMsg("Select a text or an existing annotation in order to create a new entity. Text selections are valid only if they do not overlap other existing annotation","error"),void w.unsetCurrentEntity())}},w.unsetCurrentEntity=function(){return w.currentEntity=void 0,w.currentEntityType=void 0},w.storeCurrentEntity=function(){if(w.currentEntity.mainType){switch(w.currentEntityType){case"entity":w.analysis.entities[w.currentEntity.id]=w.currentEntity,w.addMsg("The entity was updated!","positive");break;default:y.debug("Unset a new entity"),w.addNewEntityToAnalysis(),w.addMsg("Annotation is created","positive")}return w.unsetCurrentEntity(),wp.wordlift.trigger("analysis.result",w.analysis)}w.addMsg("Select an entity type.","error")},w.selectedEntities={},w.currentSection=void 0,w.isVideoObjectEnabled=1===parseInt(wlSettings.show_videoobject),w.toggleCurrentSection=function(t){return"videoobject"===t&&window.dispatchEvent(new Event("wordlift.renderVideoList")),w.currentSection===t?w.currentSection=void 0:w.currentSection=t},w.isCurrentSection=function(t){return w.currentSection===t},w.suggestedPlaces=void 0,w.publishedPlace=u.publishedPlace,w.topic=void 0,null!=u.publishedPlace&&(w.suggestedPlaces={},w.suggestedPlaces[u.publishedPlace.id]=u.publishedPlace),w.annotation=void 0,w.boxes=[],w.images=[],w.isThereASelection=!1,w.configuration=u,w.messages=[],r.load(Object.keys(w.configuration.entities)),a.$on("analysisFailed",function(t,e){return w.analysisFailed=!0,w.addMsg(e,"error")}),a.$on("analysisServiceStatusUpdated",function(t,e){return w.isRunning=e,i.updateContentEditableStatus(!e)}),a.$watch("selectionStatus",function(){return w.isThereASelection=a.selectionStatus}),e=0,n=(s=w.configuration.classificationBoxes).length;e<n;e++)b=s[e],w.selectedEntities[b.id]={};return w.removeMsg=function(t){return w.messages.splice(t,1)},w.addMsg=function(t,e){return w.messages.unshift({level:e,text:t})},w.selectAnnotation=function(t){return i.selectAnnotation(t)},w.hasAnalysis=function(){return null!=w.analysis},w.isEntitySelected=function(t,e){return null!=w.selectedEntities[e.id][t.id]},w.isLinkedToCurrentAnnotation=function(t){var e;return e=w.annotation,0<=indexOf.call(t.occurrences,e)},w.addNewEntityToAnalysis=function(){var t;return delete w.currentEntity.suggestedSameAs,w.analysis.entities[w.currentEntity.id]=w.currentEntity,(t=w.analysis.annotations[w.annotation]).entityMatches.push({entityId:w.currentEntity.id,confidence:1}),w.analysis.entities[w.currentEntity.id].annotations[t.id]=t,w.analysis.annotations[w.annotation].entities[w.currentEntity.id]=w.currentEntity,w.onSelectedEntityTile(w.analysis.entities[w.currentEntity.id])},w.$on("updateOccurencesForEntity",function(t,e,n){var i,r;if(y.debug("Updating "+n.length+" occurrence(s) for "+e+"..."),w.analysis.entities[e].occurrences=n,wp.wordlift.trigger("updateOccurrencesForEntity",{entityId:e,occurrences:n}),0===n.length){for(b in r=[],i=w.selectedEntities)i[b],r.push(delete w.selectedEntities[b][e]);return r}}),w.$watch("annotation",function(t){var e;if(y.debug("Current annotation id changed to "+t),wp.wordlift.trigger("annotation",t),!w.isRunning&&null!=t)return null!=w.currentEntity?(e=w.analysis.annotations[t],w.currentEntity.label=e.text,o.getSuggestedSameAs(e.text)):void 0}),w.$on("textAnnotationClicked",function(t,e){return w.annotation=e,w.unsetCurrentEntity()}),w.$on("textAnnotationAdded",function(t,e){return y.debug("[ app.controllers.EditPostWidgetController ] added a new annotation with Id "+e.id),w.analysis.annotations[e.id]=e,w.annotation=e.id}),w.$on("sameAsRetrieved",function(t,e){return w.currentEntity.suggestedSameAs=e}),w.$on("relatedPostsLoaded",function(t,e){return w.relatedPosts=e}),w.$on("analysisPerformed",function(t,e){var n,i,r,o,a,s,u,l,c,f,d,p,h,$,g,v,m;if(y.info("An analysis has been performed."),w.analysis=e,null!=w.configuration.topic)for(y.info("Preselecting topics..."),a=0,u=(h=e.topics).length;a<u;a++)$=(m=h[a]).id,0<=indexOf.call(w.configuration.topic.sameAs,$)&&(w.topic=m);for(s=0,l=(g=w.configuration.classificationBoxes).length;s<l;s++)for(d=0,c=(n=(b=g[s]).selectedEntities).length;d<c;d++)if(r=n[d],i=e.entities[r]){if(0===i.occurrences.length){y.warn("Entity "+r+" selected as "+b.label+" without valid occurrences!",i);continue}for(w.selectedEntities[b.id][r]=e.entities[r],p=0,f=(v=i.images).length;p<f;p++)o=v[p],indexOf.call(w.images,o)<0&&w.images.push(o)}else y.warn("Entity with id "+r+" should be linked to "+b.id+" but is missing");return w.currentSection="content-classification"}),w.updateRelatedPosts=function(){var t,e,n,i;for(b in y.debug("Going to update related posts box ..."),e=[],i=w.selectedEntities)for(n in t=i[b])t[n],e.push(n);return r.load(e)},w.onSelectedEntityTile=function(e){var t,n,i,r,o,a,s;if(t="entitySelected",null!=w.annotation?(o=w.annotation,0<=indexOf.call(e.occurrences,o)&&(t="entityDeselected")):0<e.occurrences.length&&(t="entityDeselected"),console.info("onSelectedEntityTile",{action:t,entity:e}),s=u.getCategoryForType(e.mainType),y.debug("[ app.controllers.EditPostWidgetController ] Action '"+t+"' on entity "+e.id+" within "+s+" scope"),"entitySelected"===t){if(null!=(w.selectedEntities[s][e.id]=e).images)for(i=0,r=(a=e.images).length;i<r;i++)n=a[i],indexOf.call(w.images,n)<0&&w.images.push(n)}else null!=e.images&&(w.images=w.images.filter(function(t){return indexOf.call(e.images,t)<0}));return w.$emit(t,e,w.annotation),wp.wordlift.trigger(t,{entity:e,annotation:w.annotation}),w.updateRelatedPosts(),w.selectAnnotation(void 0)},w.isGeoLocationAllowed=function(){return t.isAllowed()},w.getLocation=function(){return w.isGeolocationRunning=!0,a.$broadcast("geoLocationStatusUpdated",w.isGeolocationRunning),t.getLocation()},w.isPublishedPlace=function(t){var e;return t.id===(null!=(e=w.publishedPlace)?e.id:void 0)},w.hasPublishedPlace=function(){return null!=w.publishedPlace||null!=w.suggestedPlaces},w.onPublishedPlaceSelected=function(t){var e;return(null!=(e=w.publishedPlace)?e.id:void 0)===t.id?(w.publishedPlace=void 0,void(w.suggestedPlaces=void 0)):w.publishedPlace=t},w.$on("currentUserLocalityDetected",function(t,e,r){return y.debug("Looking for entities matching "+e+" for locality "+r),o._innerPerform(e).then(function(t){var e,n,i;for(n in w.suggestedPlaces={},i=t.data.entities)"place"===(e=i[n]).mainType&&r===e.label&&(e.id=n,w.onPublishedPlaceSelected(e));return w.isGeolocationRunning=!1,a.$broadcast("geoLocationStatusUpdated",w.isGeolocationRunning)})}),w.$on("geoLocationError",function(t,e){return w.addMsg("Sorry. Looks like something went wrong and WordLift cannot detect your current position. Make sure the ​location services​ of your browser are turned on.","error"),w.isGeolocationRunning=!1,a.$broadcast("geoLocationStatusUpdated",w.isGeolocationRunning)}),w.isTopic=function(t){var e;return t.id===(null!=(e=w.topic)?e.id:void 0)},w.onTopicSelected=function(t){var e;if((null!=(e=w.topic)?e.id:void 0)!==t.id)return w.topic=t;w.topic=void 0}}]),angular.module("wordlift.editpost.widget.directives.wlClassificationBox",[]).directive("wlClassificationBox",["configuration","$log",function(t,r){return{restrict:"E",scope:!0,transclude:!0,templateUrl:function(){return t.ajax_url+"?action=wl_templates&name=wordlift-directive-classification-box"},link:function(t,e,n,i){return r.debug("Linking classification box..."),t.hasSelectedEntities=function(){return 0<Object.keys(t.selectedEntities[t.box.id]).length},wp.wordlift.trigger("wlClassificationBox.loaded",t)},controller:function(o,t,e){return o.tiles=[],o.boxes[o.box.id]=o,this.addTile=function(t){return o.tiles.push(t)},this.closeTiles=function(){var t,e,n,i,r;for(i=[],t=0,e=(n=o.tiles).length;t<e;t++)r=n[t],i.push(r.isOpened=!1);return i}}}}]),angular.module("wordlift.editpost.widget.directives.wlEntityList",[]).directive("wlEntityList",["$log",function(t){return{restrict:"A",link:function(){return wp.wordlift.trigger("wlEntityList.loaded")}}}]),angular.module("wordlift.editpost.widget.directives.wlEntityForm",[]).directive("wlEntityForm",["configuration","$window","$log",function(i,r,o){return{restrict:"E",scope:{entity:"=",onSubmit:"&",onReset:"&",box:"="},templateUrl:function(){return i.ajax_url+"?action=wl_templates&name=wordlift-directive-entity-form"},link:function(a,t,e,n){return a.configuration=i,a.currentCategory=void 0,a.$watch("entity.id",function(t){var e,n;if(null!=t)return o.debug("Entity updated to "+t),e=i.getCategoryForType(null!=(n=a.entity)?n.mainType:void 0),o.debug("Going to update current category to "+e),a.currentCategory=e}),a.onSubmitWrapper=function(t){return t.preventDefault(),a.onSubmit()},a.onResetWrapper=function(t){return t.preventDefault(),a.onReset()},a.setCurrentCategory=function(t){var e;if(a.currentCategory=t,e=i.getTypesForCategoryId(t),o.debug("Going to check types"),o.debug(e),1===e.length)return a.setType(e[0])},a.unsetCurrentCategory=function(){var t;return a.currentCategory=void 0,null!=(t=a.entity)?t.mainType=void 0:void 0},a.isSameAsOf=function(t){var e;return e=t.id,0<=indexOf.call(a.entity.sameAs,e)},a.addSameAs=function(t){var e,n,i,r,o;return(null!=(n=a.entity)?n.sameAs:void 0)||null!=(i=a.entity)&&(i.sameAs=[]),r=t.id,0<=indexOf.call(a.entity.sameAs,r)?(e=a.entity.sameAs.indexOf(t.id),a.entity.sameAs.splice(e,1)):null!=(o=a.entity)?o.sameAs.push(t.id):void 0},a.setType=function(t){var e,n;if(t!==(null!=(e=a.entity)?e.mainType:void 0))return null!=(n=a.entity)?n.mainType=t:void 0},a.isCurrentType=function(t){var e;return(null!=(e=a.entity)?e.mainType:void 0)===t},a.getAvailableTypes=function(){return i.getTypesForCategoryId(a.currentCategory)},a.removeCurrentImage=function(t){var e;return e=a.entity.images.splice(t,1),o.warn("Removed "+e+" from entity "+a.entity.id+" images collection")},a.linkToEdit=function(t){return t.preventDefault(),r.location.href=ajaxurl+"?action=wordlift_redirect&uri="+r.encodeURIComponent(a.entity.id)+"&to=edit"},a.hasOccurences=function(){var t;return 0<(null!=(t=a.entity.occurrences)?t.length:void 0)},a.setSameAs=function(t){return a.entity.sameAs=t},a.isInternal=function(){var t;return i.isInternal(null!=(t=a.entity)?t.id:void 0)},a.isNew=function(t){var e;return!/^(f|ht)tps?:\/\//i.test(null!=(e=a.entity)?e.id:void 0)}}}}]),angular.module("wordlift.editpost.widget.directives.wlEntityInputBox",[]).directive("wlEntityInputBox",["configuration","$log",function(t,e){return{restrict:"E",scope:{entity:"="},templateUrl:function(){return t.ajax_url+"?action=wl_templates&name=wordlift-directive-entity-input-box"}}}]),angular.module("wordlift.editpost.widget.services.EditorAdapter",["wordlift.editpost.widget.services.EditorAdapter"]).service("EditorAdapter",["$log",function(t){var n;return n={getEditor:function(t){var e,n,i;return null==t&&(t=null!=(e=window.wlSettings.default_editor_id)?e:"content"),tinyMCE.get(null!=(n="undefined"!=typeof wp&&null!==wp&&null!=(i=wp.hooks)?i.applyFilters("wl_default_editor_id",t):void 0)?n:t)},getHTML:function(t){var e;return null==t&&(t=null!=(e=window.wlSettings.default_editor_id)?e:"content"),n.getEditor(t).getContent({format:"raw"})}}}]),angular.module("wordlift.editpost.widget.services.AnnotationParser",[]).service("AnnotationParser",["$log",function(t){return{parse:function(t){var e,n,i,r,o;for(o=Traslator.create(t),i=/<(\w+)[^>]*\sitemid="([^"]+)"[^>]*>([^<]*)<\/\1>/gim,r=[];n=i.exec(t);)e={start:o.html2text(n.index),end:o.html2text(n.index+n[0].length),uri:n[2],label:n[3]},r.push(e);return r}}}]),angular.module("wordlift.editpost.widget.services.AnalysisService",["wordlift.editpost.widget.services.AnnotationParser","wordlift.editpost.widget.services.EditorAdapter"]).service("AnalysisService",["AnnotationParser","EditorAdapter","configuration","$log","$http","$rootScope","$q",function(t,e,d,p,n,a,r){var i,h,o,s,u,l,c,f,$,g,v,m;if(m=function(t){var e;for(null==t&&(t=8),e="";e.length<t;)e+=Math.random().toString(36).substr(2);return e.substr(0,t)},c=function(t,e){return i(i({},t),e)},i=function(t,e){var n,i;for(n in e)i=e[n],t[n]=i;return t},g={_isRunning:!(h=function(t,e,n){var i,r;for(r in t)if((i=t[r]).start===e&&i.end===n)return i}),_currentAnalysis:void 0,_supportedTypes:[],_defaultType:"thing",cleanAnnotations:function(t,e){var n,i,r,o,a,s,u,l,c,f;for(i in null==e&&(e=[]),l=t.annotations)if(0<(n=l[i]).start&&n.end>n.start){for(o=!1,a=0,s=(r=function(){f=[];for(var t=c=n.start,e=n.end;c<=e?t<=e:e<=t;c<=e?t++:t--)f.push(t);return f}.apply(this)).length;a<s;a++){u=r[a],0<=indexOf.call(e,u)&&(o=!0);break}o?(p.warn("Annotation with id: "+i+" start: "+n.start+" end: "+n.end+" overlaps an existing annotation"),this.deleteAnnotation(t,i)):e=e.concat(r)}return t}},null!=d.classificationBoxes)for(o=0,u=(f=d.classificationBoxes).length;o<u;o++)for(s=0,l=($=f[o].registeredTypes).length;s<l;s++)v=$[s],indexOf.call(g._supportedTypes,v)<0&&g._supportedTypes.push(v);return g.createEntity=function(t){var e;return null==t&&(t={}),e={id:"local-entity-"+m(32),label:"",description:"",mainType:"",types:[],images:[],confidence:1,occurrences:[],annotations:{}},c(e,t)},g.deleteAnnotation=function(t,e){var n,i,r,o,a;if(p.warn("Going to remove overlapping annotation with id "+e),null!=t.annotations[e]){for(i=r=0,o=(a=t.annotations[e].entityMatches).length;r<o;i=++r)n=a[i],delete t.entities[n.entityId].annotations[e];delete t.annotations[e]}return t},g.createAnnotation=function(t){var e;return null==t&&(t={}),e={id:"urn:local-text-annotation-"+m(32),text:"",start:0,end:0,entities:[],entityMatches:[]},c(e,t)},g.parse=function(t){var e,n,i,r,o,a,s,u,l,c;for(r in p.debug("Parsing data...",t),u=t.entities)(i=u[r]).id=r,null==i.occurrences&&(i.occurrences=[]),null==i.annotations&&(i.annotations={});for(r in l=t.annotations)for((e=l[r]).id=r,e.entities={},o=a=0,s=(c=t.annotations[r].entityMatches).length;a<s;o=++a)n=c[o],null!=t.entities[n.entityId]?(null==t.entities[n.entityId].annotations&&(t.entities[n.entityId].annotations={}),t.entities[n.entityId].annotations[r]=e,t.annotations[r].entities[n.entityId]=t.entities[n.entityId]):p.warn(n.entityId+" not found in `entities`, skipping.");return p.debug("Parsed data: ",t),t},g.getSuggestedSameAs=function(t){var e,n,i,r,o;for(n in this._innerPerform(t).then(function(t){}),o=[],r=response.data.entities)e=r[n],(i=n.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i))&&o.push({id:n,label:e.label,mainType:e.mainType,source:i[1]});return p.debug(o),a.$broadcast("sameAsRetrieved",o)},g._innerPerform=function(t,e){var i;return null==e&&(e=[]),i={content:t,annotations:e,contentType:"text/html",version:Traslator.version},"undefined"!=typeof wlSettings&&null!==wlSettings&&(null!=wlSettings.language&&(i.contentLanguage=wlSettings.language),null!=wlSettings.itemId&&(i.exclude=[wlSettings.itemId]),this.canCreateEntities?i.scope="all":i.scope="local"),r(function(e,n){return wp.ajax.post("wl_analyze",{_wpnonce:wlSettings.analysis._wpnonce,data:JSON.stringify(i),postId:wlSettings.post_id}).done(function(t){return e(t)}).fail(function(t){return n(t)})})},g._updateStatus=function(t){return g._isRunning=t,a.$broadcast("analysisServiceStatusUpdated",t)},g.perform=function(t){var e;return g._currentAnalysis?(p.warn("Analysis already run! Nothing to do ..."),void g._updateStatus(!1)):(g._updateStatus(!0),p.debug("Requesting analysis..."),(e=this._innerPerform(t,{})).then(function(t){var e,n;return e=t,g._currentAnalysis=e,n=g.parse(e),a.$broadcast("analysisPerformed",n),wp.wordlift.trigger("analysis.result",n)}),e.catch(function(t){return p.error(t.data),a.$broadcast("analysisFailed",t.data)}),e.finally(function(t){return g._updateStatus(!1)}))},g.preselect=function(t,e){var n,i,r,o,a,s,u,l,c,f;for(p.debug("Selecting "+e.length+" entity annotation(s)..."),c=[],a=0,s=e.length;a<s;a++)if((n=e[a]).start!==n.end){for(o in null==(f=h(t.annotations,n.start,n.end))&&(p.warn("Text annotation "+n.start+":"+n.end+" for entityId "+n.uri+" misses in the analysis"),f=this.createAnnotation({start:n.start,end:n.end,text:n.label,cssClass:null!=n.cssClass?n.cssClass:void 0}),t.annotations[f.id]=f),r=t.entities[n.uri],u=d.entities)i=u[o],l=n.uri,0<=indexOf.call(i.sameAs,l)&&(r=t.entities[i.id]);null!=r?(t.entities[r.id].occurrences.push(f.id),null==t.entities[r.id].annotations[f.id]?(t.entities[r.id].annotations[f.id]=f,t.annotations[f.id].entityMatches.push({entityId:r.id,confidence:1}),c.push(t.annotations[f.id].entities[r.id]=t.entities[r.id])):c.push(void 0)):p.warn("Entity with uri "+n.uri+" is missing both in analysis results and in local storage")}else p.warn("There is a broken empty annotation for entityId "+n.uri);return c},g.canCreateEntities=null!=wlSettings.can_create_entities&&"yes"===wlSettings.can_create_entities,g}]),angular.module("wordlift.editpost.widget.services.NoAnnotationAnalysisService",["wordlift.editpost.widget.services.AnnotationParser","wordlift.editpost.widget.services.EditorAdapter"]).service("AnalysisService",["AnnotationParser","EditorAdapter","configuration","$log","$http","$rootScope","$q",function(t,e,d,p,n,a,r){var i,h,o,s,u,l,c,f,$,g,v,m;if(m=function(t){var e;for(null==t&&(t=8),e="";e.length<t;)e+=Math.random().toString(36).substr(2);return e.substr(0,t)},c=function(t,e){return i(i({},t),e)},i=function(t,e){var n,i;for(n in e)i=e[n],t[n]=i;return t},g={_isRunning:!(h=function(t,e,n){var i,r;for(r in t)if((i=t[r]).start===e&&i.end===n)return i}),_currentAnalysis:void 0,_supportedTypes:[],_defaultType:"thing",cleanAnnotations:function(t,e){var n,i,r,o,a,s,u,l,c,f;for(i in null==e&&(e=[]),l=t.annotations)if(0<(n=l[i]).start&&n.end>n.start){for(o=!1,a=0,s=(r=function(){f=[];for(var t=c=n.start,e=n.end;c<=e?t<=e:e<=t;c<=e?t++:t--)f.push(t);return f}.apply(this)).length;a<s;a++){u=r[a],0<=indexOf.call(e,u)&&(o=!0);break}o?(p.warn("Annotation with id: "+i+" start: "+n.start+" end: "+n.end+" overlaps an existing annotation"),this.deleteAnnotation(t,i)):e=e.concat(r)}return t}},null!=d.classificationBoxes)for(o=0,u=(f=d.classificationBoxes).length;o<u;o++)for(s=0,l=($=f[o].registeredTypes).length;s<l;s++)v=$[s],indexOf.call(g._supportedTypes,v)<0&&g._supportedTypes.push(v);return g.createEntity=function(t){var e;return null==t&&(t={}),e={id:"local-entity-"+m(32),label:"",description:"",mainType:"",types:[],images:[],confidence:1,occurrences:[],annotations:{}},c(e,t)},g.deleteAnnotation=function(t,e){var n,i,r,o,a;if(p.warn("Going to remove overlapping annotation with id "+e),null!=t.annotations[e]){for(i=r=0,o=(a=t.annotations[e].entityMatches).length;r<o;i=++r)n=a[i],delete t.entities[n.entityId].annotations[e];delete t.annotations[e]}return t},g.createAnnotation=function(t){var e;return null==t&&(t={}),e={id:"urn:local-text-annotation-"+m(32),text:"",start:0,end:0,entities:[],entityMatches:[]},c(e,t)},g.parse=function(t){var e,n,i,r,o,a,s,u,l,c;for(r in p.debug("Parsing data...",t),u=t.entities)(i=u[r]).id=r,null==i.occurrences&&(i.occurrences=[]),null==i.annotations&&(i.annotations={});for(r in l=t.annotations)for((e=l[r]).id=r,e.entities={},o=a=0,s=(c=t.annotations[r].entityMatches).length;a<s;o=++a)n=c[o],null!=t.entities[n.entityId]?(null==t.entities[n.entityId].annotations&&(t.entities[n.entityId].annotations={}),t.entities[n.entityId].annotations[r]=e,t.annotations[r].entities[n.entityId]=t.entities[n.entityId]):p.warn(n.entityId+" not found in `entities`, skipping.");return p.debug("Parsed data: ",t),t},g.getSuggestedSameAs=function(t){var e,n,i,r,o;for(n in this._innerPerform(t).then(function(t){}),o=[],r=response.data.entities)e=r[n],(i=n.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i))&&o.push({id:n,label:e.label,mainType:e.mainType,source:i[1]});return p.debug(o),a.$broadcast("sameAsRetrieved",o)},g._innerPerform=function(t,e){var i;return null==e&&(e=[]),i={content:t,annotations:e,contentType:"text/html",version:Traslator.version},"undefined"!=typeof wlSettings&&null!==wlSettings&&(null!=wlSettings.language&&(i.contentLanguage=wlSettings.language),null!=wlSettings.itemId&&(i.exclude=[wlSettings.itemId]),this.canCreateEntities?i.scope="all":i.scope="local"),r(function(e,n){return wp.ajax.post("wl_analyze",{_wpnonce:wlSettings.analysis._wpnonce,data:JSON.stringify(i),postId:wlSettings.post_id}).done(function(t){return e(t)}).fail(function(t){return n(t)})})},g._updateStatus=function(t){return g._isRunning=t,a.$broadcast("analysisServiceStatusUpdated",t)},g.perform=function(t){var e;return g._currentAnalysis?(p.warn("Analysis already run! Nothing to do ..."),void g._updateStatus(!1)):(g._updateStatus(!0),p.debug("Requesting analysis..."),(e=this._innerPerform(t,{})).then(function(t){var e,n;return e=t,g._currentAnalysis=e,n=g.parse(e),a.$broadcast("analysisPerformed",n),wp.wordlift.trigger("analysis.result",n)}),e.catch(function(t){return p.error(t.data),a.$broadcast("analysisFailed",t.data)}),e.finally(function(t){return g._updateStatus(!1)}))},g.preselect=function(t,e){var n,i,r,o,a,s,u,l,c,f;for(p.debug("Selecting "+e.length+" entity annotation(s)..."),c=[],a=0,s=e.length;a<s;a++)if((n=e[a]).start!==n.end){for(o in null==(f=h(t.annotations,n.start,n.end))&&(p.warn("Text annotation "+n.start+":"+n.end+" for entityId "+n.uri+" misses in the analysis"),f=this.createAnnotation({start:n.start,end:n.end,text:n.label,cssClass:null!=n.cssClass?n.cssClass:void 0}),t.annotations[f.id]=f),r=t.entities[n.uri],u=d.entities)i=u[o],l=n.uri,0<=indexOf.call(i.sameAs,l)&&(r=t.entities[i.id]);null!=r?(t.entities[r.id].occurrences.push(f.id),null==t.entities[r.id].annotations[f.id]?(t.entities[r.id].annotations[f.id]=f,t.annotations[f.id].entityMatches.push({entityId:r.id,confidence:1}),c.push(t.annotations[f.id].entities[r.id]=t.entities[r.id])):c.push(void 0)):p.warn("Entity with uri "+n.uri+" is missing both in analysis results and in local storage")}else p.warn("There is a broken empty annotation for entityId "+n.uri);return c},g.canCreateEntities=null!=wlSettings.can_create_entities&&"yes"===wlSettings.can_create_entities,g}]),angular.module("wordlift.editpost.widget.services.EditorService",["wordlift.editpost.widget.services.EditorAdapter","wordlift.editpost.widget.services.AnalysisService"]).service("EditorService",["configuration","AnalysisService","EditorAdapter","$log","$http","$rootScope",function(u,l,v,m,t,y){var f,s,d,n;return"\ufeff",function(t){var e,n,i,r;for(i=/<(\w+)[^>]*\sclass="([^"]+)"\s+(?:id="[^"]+"\s+)?itemid="([^"]+)"[^>]*>([^<]*)<\/\1>/gim,r=[];n=i.exec(t);)e={start:n.index,end:n.index+n[0].length,uri:n[3],label:n[4],cssClass:n[2]},r.push(e);return r},function(t){var n,e,i,r,o,a;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r=r.concat(function(){a=[];for(var t=o=n.start,e=n.end;o<=e?t<=e:e<=t;o<=e?t++:t--)a.push(t);return a}.apply(this));return r},function(){return tinyMCE.get("content")},d=function(t,e){var n,i,r,o,a,s;for((i=v.getEditor()).dom.addClass(t,"disambiguated"),console.log({configuration:u}),r=0,o=(a=u.types).length;r<o;r++)s=a[r],i.dom.removeClass(t,s.css);return i.dom.removeClass(t,"unlinked"),i.dom.addClass(t,"wl-"+e.mainType),n=i.dom.getAttrib(t,"itemid"),i.dom.setAttrib(t,"itemid",e.id),n},s=function(t,e){var n,i;return(i=v.getEditor()).dom.removeClass(t,"disambiguated"),i.dom.removeClass(t,"wl-"+e.mainType),n=i.dom.getAttrib(t,"itemid"),i.dom.setAttrib(t,"itemid",""),n},f=function(t){var e,n,i,r,o,a;if(m.info("Calculating occurrences for entity "+t+"..."),i=v.getEditor(),a=[],""===t)return a;for(n=i.dom.select("span.textannotation"),m.info("Found "+n.length+" annotation(s) for entity "+t+"."),r=0,o=n.length;r<o;r++)e=n[r],i.dom.getAttrib(e.id,"itemid")===t&&a.push(e.id);return a},y.$on("analysisPerformed",function(t,e){if(null!=e&&null!=e.annotations)return n.embedAnalysis(e)}),y.$on("entitySelected",function(t,e,n){var i,r,o,a,s,u,l,c;if(m.debug("[ app.services.EditorService ] `entitySelected` event received.",t,e,n),r=[],null!=n)r.push(d(n,e));else for(a in c=e.annotations)i=c[a],r.push(d(i.id,e));for(s=0,u=r.length;s<u;s++)(o=r[s])&&(l=f(o),y.$broadcast("updateOccurencesForEntity",o,l));return l=f(e.id),y.$broadcast("updateOccurencesForEntity",e.id,l)}),y.$on("entityDeselected",function(t,e,n){var i,r,o,a;if(console.debug('EditorService::$rootScope.$on "entityDeselected" (event)',{event:t,entity:e,annotationId:n}),null!=n)s(n,e);else for(r in a=e.annotations)i=a[r],s(i.id,e);return o=f(e.id),console.debug('EditorService::$rootScope.$on "entityDeselected" (event)',{occurrences:o}),y.$broadcast("updateOccurencesForEntity",e.id,o)}),n={hasSelection:function(){var t;return null!=(t=v.getEditor())&&!t.selection.isCollapsed()},isEditor:function(t){return v.getEditor().id===t.id},updateContentEditableStatus:function(t){return v.getEditor().getBody().setAttribute("contenteditable",t)},createTextAnnotationFromCurrentSelection:function(){var t,e,n,i,r,o,a,s,u;if(!(e=v.getEditor()).selection.isCollapsed())return i=""+e.selection.getSel(),r=l.createAnnotation({text:i}),a=e.selection.getContent({format:"text"}),o='<span id="'+r.id+'" class="textannotation unlinked selected">'+a+"</span>\ufeff",e.selection.setContent(o),t=v.getHTML(),u=Traslator.create(t),n=t.indexOf(o),s=u.html2text(n),r.start=s,r.end=r.start+i.length,y.$broadcast("textAnnotationAdded",r);m.warn("Invalid selection! The text annotation cannot be created")},selectAnnotation:function(t){var e,n,i,r,o;for(i=0,r=(o=(n=v.getEditor()).dom.select("span.textannotation")).length;i<r;i++)e=o[i],n.dom.removeClass(e.id,"selected");if(y.$broadcast("textAnnotationClicked",void 0),n.dom.hasClass(t,"textannotation"))return n.dom.addClass(t,"selected"),y.$broadcast("textAnnotationClicked",t)},embedAnalysis:function(t){var e,n,i,r,o,a,s,u,l,c,f,d,p,h,$,g;for(m.debug("Embedding analysis..."),i=v.getEditor(),s=v.getHTML(),l=0,f=(n=Object.values(t.annotations).sort(function(t,e){return t.end>e.end?-1:t.end<e.end?1:0})).length;l<f;l++)if(0!==(e=n[l]).entityMatches.length){if(null==i.dom.get(e.id)){for(r='<span id="'+e.id+'" class="textannotation',-1<(null!=(p=e.cssClass)?p.indexOf("wl-no-link"):void 0)&&(r+=" wl-no-link"),-1<(null!=(h=e.cssClass)?h.indexOf("wl-link"):void 0)&&(r+=" wl-link"),c=0,d=($=e.entityMatches).length;c<d;c++)o=$[c],null!=t.entities[o.entityId]?(a=t.entities[o.entityId],g=e.id,0<=indexOf.call(a.occurrences,g)&&(r+=" disambiguated wl-"+a.mainType+'" itemid="'+a.id)):m.warn(o.entityId+" not found in `entities`, skipping.");r+='">',s=(s=s.substring(0,e.end)+"</span>"+s.substring(e.end)).substring(0,e.start)+r+s.substring(e.start)}}else m.warn("Annotation "+e.text+" ["+e.start+":"+e.end+"] with id "+e.id+" has no entity matches!");return s=s.replace(/<\/span>/gim,"</span>\ufeff"),y.$broadcast("analysisEmbedded"),u=i.isDirty(),i.setContent(s,{format:"raw"}),i.isNotDirty=!u}}}]),angular.module("wordlift.editpost.widget.services.NoAnnotationEditorService",["wordlift.editpost.widget.services.EditorAdapter","wordlift.editpost.widget.services.AnalysisService"]).service("EditorService",["configuration","AnalysisService","EditorAdapter","$log","$http","$rootScope",function(u,l,v,m,t,y){var f,s,d,n;return"\ufeff",function(t){var e,n,i,r;for(i=/<(\w+)[^>]*\sclass="([^"]+)"\s+(?:id="[^"]+"\s+)?itemid="([^"]+)"[^>]*>([^<]*)<\/\1>/gim,r=[];n=i.exec(t);)e={start:n.index,end:n.index+n[0].length,uri:n[3],label:n[4],cssClass:n[2]},r.push(e);return r},function(t){var n,e,i,r,o,a;for(r=[],e=0,i=t.length;e<i;e++)n=t[e],r=r.concat(function(){a=[];for(var t=o=n.start,e=n.end;o<=e?t<=e:e<=t;o<=e?t++:t--)a.push(t);return a}.apply(this));return r},function(){return tinyMCE.get("content")},d=function(t,e){var n,i,r,o,a,s;for((i=v.getEditor()).dom.addClass(t,"disambiguated"),console.log({configuration:u}),r=0,o=(a=u.types).length;r<o;r++)s=a[r],i.dom.removeClass(t,s.css);return i.dom.removeClass(t,"unlinked"),i.dom.addClass(t,"wl-"+e.mainType),n=i.dom.getAttrib(t,"itemid"),i.dom.setAttrib(t,"itemid",e.id),n},s=function(t,e){var n,i;return(i=v.getEditor()).dom.removeClass(t,"disambiguated"),i.dom.removeClass(t,"wl-"+e.mainType),n=i.dom.getAttrib(t,"itemid"),i.dom.setAttrib(t,"itemid",""),n},f=function(t){var e,n,i,r,o,a;if(m.info("Calculating occurrences for entity "+t+"..."),i=v.getEditor(),a=[],""===t)return a;for(n=i.dom.select("span.textannotation"),m.info("Found "+n.length+" annotation(s) for entity "+t+"."),r=0,o=n.length;r<o;r++)e=n[r],i.dom.getAttrib(e.id,"itemid")===t&&a.push(e.id);return a},y.$on("analysisPerformed",function(t,e){if(null!=e&&null!=e.annotations)return n.embedAnalysis(e)}),y.$on("entitySelected",function(t,e,n){var i,r,o,a,s,u,l,c;if(m.debug("[ app.services.EditorService ] `entitySelected` event received.",t,e,n),r=[],null!=n)r.push(d(n,e));else for(a in c=e.annotations)i=c[a],r.push(d(i.id,e));for(s=0,u=r.length;s<u;s++)(o=r[s])&&(l=f(o),y.$broadcast("updateOccurencesForEntity",o,l));return l=f(e.id),y.$broadcast("updateOccurencesForEntity",e.id,l)}),y.$on("entityDeselected",function(t,e,n){var i,r,o,a;if(console.debug('EditorService::$rootScope.$on "entityDeselected" (event)',{event:t,entity:e,annotationId:n}),null!=n)s(n,e);else for(r in a=e.annotations)i=a[r],s(i.id,e);return o=f(e.id),console.debug('EditorService::$rootScope.$on "entityDeselected" (event)',{occurrences:o}),y.$broadcast("updateOccurencesForEntity",e.id,o)}),n={hasSelection:function(){var t;return null!=(t=v.getEditor())&&!t.selection.isCollapsed()},isEditor:function(t){return v.getEditor().id===t.id},updateContentEditableStatus:function(t){return v.getEditor().getBody().setAttribute("contenteditable",t)},createTextAnnotationFromCurrentSelection:function(){var t,e,n,i,r,o,a,s,u;if(!(e=v.getEditor()).selection.isCollapsed())return i=""+e.selection.getSel(),r=l.createAnnotation({text:i}),a=e.selection.getContent({format:"text"}),o='<span id="'+r.id+'" class="textannotation unlinked selected">'+a+"</span>\ufeff",e.selection.setContent(o),t=v.getHTML(),u=Traslator.create(t),n=t.indexOf(o),s=u.html2text(n),r.start=s,r.end=r.start+i.length,y.$broadcast("textAnnotationAdded",r);m.warn("Invalid selection! The text annotation cannot be created")},selectAnnotation:function(t){var e,n,i,r,o;for(i=0,r=(o=(n=v.getEditor()).dom.select("span.textannotation")).length;i<r;i++)e=o[i],n.dom.removeClass(e.id,"selected");if(y.$broadcast("textAnnotationClicked",void 0),n.dom.hasClass(t,"textannotation"))return n.dom.addClass(t,"selected"),y.$broadcast("textAnnotationClicked",t)},embedAnalysis:function(t){var e,n,i,r,o,a,s,u,l,c,f,d,p,h,$,g;for(m.debug("Embedding analysis..."),i=v.getEditor(),s=v.getHTML(),l=0,f=(n=Object.values(t.annotations).sort(function(t,e){return t.end>e.end?-1:t.end<e.end?1:0})).length;l<f;l++)if(0!==(e=n[l]).entityMatches.length){if(null==i.dom.get(e.id)){for(r='<span id="'+e.id+'" class="textannotation',-1<(null!=(p=e.cssClass)?p.indexOf("wl-no-link"):void 0)&&(r+=" wl-no-link"),-1<(null!=(h=e.cssClass)?h.indexOf("wl-link"):void 0)&&(r+=" wl-link"),c=0,d=($=e.entityMatches).length;c<d;c++)o=$[c],null!=t.entities[o.entityId]?(a=t.entities[o.entityId],g=e.id,0<=indexOf.call(a.occurrences,g)&&(r+=" disambiguated wl-"+a.mainType+'" itemid="'+a.id)):m.warn(o.entityId+" not found in `entities`, skipping.");r+='">',s=(s=s.substring(0,e.end)+"</span>"+s.substring(e.end)).substring(0,e.start)+r+s.substring(e.start)}}else m.warn("Annotation "+e.text+" ["+e.start+":"+e.end+"] with id "+e.id+" has no entity matches!");return s=s.replace(/<\/span>/gim,"</span>\ufeff"),y.$broadcast("analysisEmbedded"),u=i.isDirty(),i.setContent(s,{format:"raw"}),i.isNotDirty=!u}}}]),angular.module("wordlift.editpost.widget.services.RelatedPostDataRetrieverService",[]).service("RelatedPostDataRetrieverService",["configuration","$log","$http","$rootScope",function(n,i,r,o){return{load:function(t){var e;return null==t&&(t=[]),e="admin-ajax.php?action=wordlift_related_posts&post_id="+n.currentPostId,r({method:"post",url:e,data:t}).success(function(t){return o.$broadcast("relatedPostsLoaded",t)}).error(function(t,e){return i.warn("Error loading related posts")})}}}]),angular.module("wordlift.editpost.widget.services.GeoLocationService",["geolocation"]).service("GeoLocationService",["configuration","geolocation","$log","$rootScope","$document","$q","$timeout","$window",function(t,e,n,l,r,o,a,i){var s,u,c;return"locality","AIzaSyAhsajbqNVd7ABlkZvskWIPdiX6M3OaaNM",s="https://maps.googleapis.com/maps/api/js?language="+t.currentLanguage+"&key=AIzaSyAhsajbqNVd7ABlkZvskWIPdiX6M3OaaNM",l.$on("error",function(t,e){return n.warn("Geolocation error: "+e),l.$broadcast("geoLocationError",e)}),this.googleApiLoaded=!1,this.googleApiPromise=void 0,c=function(){var t,n,i;return null!=this.googleApiPromise||(n=o.defer(),(i=r[0].createElement("script")).src=s,r[0].body.appendChild(i),t=function(t){var e;if(!i.readyState||"complete"===(e=i.readyState)||"loaded"===e)return a(function(){return n.resolve(t)})},i.onload=t,i.onreadystatechange=t,i.onerror=function(t){return a(function(){return n.reject(t)})},this.googleApiPromise=n.promise),this.googleApiPromise},u=function(){var t,e,n;for(e in n=i.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i})if(t[e].test(n))return e;return"unknown"},{isAllowed:function(){return"chrome"!==u()||"https:"===i.location.protocol},getLocation:function(){return e.getLocation().then(function(t){return n.debug("Detected position: latitude "+t.coords.latitude+", longitude "+t.coords.longitude),c().then(function(){return(new google.maps.Geocoder).geocode({location:{lat:t.coords.latitude,lng:t.coords.longitude}},function(t,e){var n,i,r,o,a,s,u;if(e===google.maps.GeocoderStatus.OK)for(i=0,o=t.length;i<o;i++)if(u=t[i],0<=indexOf.call(u.types,"locality"))for(r=0,a=(s=u.address_components).length;r<a;r++)if(n=s[r],0<=indexOf.call(n.types,"locality"))return void l.$broadcast("currentUserLocalityDetected",u.formatted_address,n.long_name)})})})}}}]),angular.module("wordlift.editpost.widget.providers.ConfigurationProvider",[]).provider("configuration",function(){var e;return e=void 0,{setConfiguration:function(t){return(e=t).getCategoryForType=function(t){var e,n,i,r;if(t){for(n=0,i=(r=this.classificationBoxes).length;n<i;n++)if(e=r[n],0<=indexOf.call(e.registeredTypes,t))return e.id;return"what"}},e.getTypesForCategoryId=function(t){var e,n,i,r;if(!t)return[];for(n=0,i=(r=this.classificationBoxes).length;n<i;n++)if(t===(e=r[n]).id)return e.registeredTypes},e.isInternal=function(t){return null!=t?t.startsWith(this.datasetUri):void 0},e.getUriForType=function(t){var e,n,i,r;for(e=0,n=(i=this.types).length;e<n;e++)if((r=i[e]).css==="wl-"+t)return r.uri}},$get:function(){return e}}}),function(c,t){var e,f;if(e=(e=["ngAnimate","wordlift.ui.carousel","wordlift.utils.directives","wordlift.editpost.widget.providers.ConfigurationProvider","wordlift.editpost.widget.controllers.EditPostWidgetController","wordlift.editpost.widget.directives.wlClassificationBox","wordlift.editpost.widget.directives.wlEntityList","wordlift.editpost.widget.directives.wlEntityForm","wordlift.editpost.widget.directives.wlEntityInputBox","wordlift.editpost.widget.services.RelatedPostDataRetrieverService"]).concat("undefined"!=typeof wlSettings&&null!==wlSettings&&null!=wlSettings.analysis&&null!=wlSettings.analysis.isEditorPresent&&!1===wlSettings.analysis.isEditorPresent?["wordlift.editpost.widget.services.NoAnnotationAnalysisService","wordlift.editpost.widget.services.EditorService"]:["wordlift.editpost.widget.services.AnalysisService","wordlift.editpost.widget.services.NoAnnotationEditorService"]),t.module("wordlift.editpost.widget",e).config(function(t){var e;return e=Object.assign({},window._wlMetaBoxSettings.settings,{types:window._wlEntityTypes}),t.setConfiguration(e)}),c('<div\n  id="wordlift-edit-post-wrapper"\n  ng-controller="EditPostWidgetController"\n  ng-include="configuration[\'ajax_url\'] + \'?action=wl_templates&name=wordlift-editpost-widget\'">\n</div>').appendTo("#wordlift-edit-post-outer-wrapper"),c('<div class="wl-widget-spinner">\n  <svg transform-origin="10 10" id="wl-widget-spinner-blogger">\n    <circle cx="10" cy="10" r="6" class="wl-blogger-shape"></circle>\n  </svg>\n  <svg transform-origin="10 10" id="wl-widget-spinner-editorial">\n    <rect x="4" y="4" width="12" height="12" class="wl-editorial-shape"></rect>\n  </svg>\n  <svg transform-origin="10 10" id="wl-widget-spinner-enterprise">\n    <polygon points="3,10 6.5,4 13.4,4 16.9,10 13.4,16 6.5,16" class="wl-enterprise-shape"></polygon>\n  </svg>\n</div>').appendTo("#wordlift_entities_box .ui-sortable-handle"),console.log("bootstrapping WordLift app..."),(f=t.bootstrap(c("#wordlift-edit-post-wrapper"),["wordlift.editpost.widget"])).invoke(["$rootScope","$log",function(t,e){if(t.$on("analysisServiceStatusUpdated",function(t,e){var n;return n=e?"wl-spinner-running":"",c(".wl-widget-spinner svg").attr("class",n)}),t.$on("geoLocationStatusUpdated",function(t,e){var n;return n=e?"wl-spinner-running":"",c(".wl-widget-spinner svg").attr("class",n)}),null!=wp.wordlift)return wp.wordlift.on("loading",function(t){var e;return e=t?"wl-spinner-running":"",c(".wl-widget-spinner svg").attr("class",e)})}]),null!=window.wlSettings)tinymce.PluginManager.add("wordlift",function(r,t){var n,e,i,o,a,s,u,l;if(i=void 0!==window.wlSettings.default_editor_id?window.wlSettings.default_editor_id:"content",o=null!=(s="undefined"!=typeof wp&&null!==wp&&null!=(u=wp.hooks)?u.applyFilters("wl_default_editor_id",i):void 0)?s:i,console.log("Loading WordLift [ default editor :: "+i+" ][ target editor :: "+o+" ][ this editor :: "+r.id+" ]"),r.id===o)return a=function(t,e,n){switch(tinymce.majorVersion){case"4":return t.on(e,n);case"3":return t["on"+e].add(n)}},(e=c("#wordlift_entities_box").hasClass("closed"))||f.invoke(["EditorService","$rootScope","$log",function(t,e,n){var i,r,o,a,s,u;for(null!=wp.autosave&&(wp.autosave.server.postChanged=function(){return!1}),u=[],i=0,r=(s=["setMarkers","toViews"]).length;i<r;i++){if(o=s[i],null!=wp.mce.views[o]){a=wp.mce.views[o],n.warn("Override wp.mce.views method "+o+"() to prevent shortcodes rendering"),wp.mce.views[o]=function(t){return t},e.$on("analysisEmbedded",function(t){return n.info("Going to restore wp.mce.views method "+o+"()"),wp.mce.views[o]=a}),e.$on("analysisFailed",function(t){return n.info("Going to restore wp.mce.views method "+o+"()"),wp.mce.views[o]=a});break}u.push(void 0)}return u}]),l=function(){return f.invoke(["AnalysisService","EditorService","$rootScope","$log",function(e,n,t,i){return t.$apply(function(){var t;if(""!==(t=r.getContent({format:"raw"})))return n.updateContentEditableStatus(!1),e.perform(t)})}])},n=function(){var t;return t=c(r.getBody()),(e=c("#wordlift_entities_box").hasClass("closed"))?t.addClass("wl-postbox-closed"):t.removeClass("wl-postbox-closed")},c(document).on("postbox-toggled",function(t,e){if("wordlift_entities_box"===e.id)return n()}),r.on("init",function(){var t;return n(),t=function(){var t;return t=r.selection.getContent({format:"text"}),wp.wordlift.trigger("editorSelectionChanged",{selection:t,editor:r,source:"tinymce"})},r.on("selectionchange",function(){return t()})}),e||a(r,"init",l),c(document).on("postbox-toggled",function(t,e){if("wordlift_entities_box"===e.id)return l()}),a(r,"NodeChange",function(t){return f.invoke(["AnalysisService","EditorService","$rootScope","$log",function(t,e,n,i){return t._currentAnalysis&&n.$apply(function(){return n.selectionStatus=e.hasSelection()}),!0}])}),a(r,"Click",function(r){return f.invoke(["AnalysisService","EditorService","$rootScope","$log",function(t,e,n,i){return t._currentAnalysis&&n.$apply(function(){return e.selectAnnotation(r.target.id)}),!0}])})})}(jQuery,window.angular),void 0!==window._wlAngularBackup&&(window._wlAngularBackupApps.attr("ng-app",!0),window.angular=window._wlAngularBackup,delete window._wlAngularBackup);